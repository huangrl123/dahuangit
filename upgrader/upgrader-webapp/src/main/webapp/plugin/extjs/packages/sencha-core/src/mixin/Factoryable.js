Ext.Factory=function(A){var B=this;B.aliasPrefix=A+".";B.cache={};B.name=A.replace(B.fixNameRe,B.fixNameFn);B.type=A};Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(A,B){var F=this,E=Ext.ClassManager,H=F.cache,I,G,D,C;if(A){if(A[F.instanceProp]){return A}if(typeof A==="string"){C=A;A={};A[F.defaultProperty]=C}G=A.xclass;C=A.type}if(G){if(!(D=E.get(G))){return E.instantiate(G,A)}}else{if(!(C=C||B||F.defaultType)){D=F.defaultClass}if(!C&&!D){Ext.Error.raise("No type specified for "+F.type+".create")}if(!D&&!(D=H[C])){I=F.aliasPrefix+C;G=E.getNameByAlias(I);if(!(D=G&&E.get(G))){return E.instantiateByAlias(I,A)}H[C]=D}}return new D(A)},fixNameRe:/\.[a-z]/ig,fixNameFn:function(A){return A.substring(1).toUpperCase()},clearCache:function(){this.cache={}}};Ext.Factory.define=function(A,B){var D=Ext.Factory,C,F,E;if(A.constructor===Object){Ext.Object.each(A,D.define,D)}else{F=new Ext.Factory(A);if(B){if(B.constructor===Object){Ext.apply(F,B);if(typeof(C=F.xclass)==="string"){F.defaultClass=Ext.ClassManager.get(C)}}else{F.defaultType=B}}D[F.name]=E=F.create.bind(F);E.instance=F}return E};Ext.define("Ext.mixin.Factoryable",{mixinId:"factoryable",onClassMixedIn:function(B){var E=B.prototype,F=E.factoryConfig,A=E.alias,D={},C;A=A&&A.length&&A[0];if(A&&(C=A.lastIndexOf("."))>0){D.type=A.substring(0,C);D.defaultType=A.substring(C+1)}if(F){delete E.factoryConfig;Ext.apply(D,F)}B.create=Ext.Factory.define(D.type,D)}});
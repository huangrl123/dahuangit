Ext.define("Ext.data.amf.Packet",function(){var G=Math.pow(2,-52),F=Math.pow(2,8),B=0,D,C,A,E;return{typeMap:{0:{0:"readDouble",1:"readBoolean",2:"readAmf0String",3:"readAmf0Object",5:"readNull",6:"readUndefined",7:"readReference",8:"readEcmaArray",10:"readStrictArray",11:"readAmf0Date",12:"readLongString",13:"readUnsupported",15:"readAmf0Xml",16:"readTypedObject"},3:{0:"readUndefined",1:"readNull",2:"readFalse",3:"readTrue",4:"readUInt29",5:"readDouble",6:"readAmf3String",7:"readAmf3Xml",8:"readAmf3Date",9:"readAmf3Array",10:"readAmf3Object",11:"readAmf3Xml",12:"readByteArray"}},decode:function(M){var K=this,H=K.headers=[],I=K.messages=[],J,L;B=0;D=K.bytes=M;C=K.strings=[];A=K.objects=[];E=K.traits=[];K.version=K.readUInt(2);for(J=K.readUInt(2);J--;){H.push({name:K.readAmf0String(),mustUnderstand:K.readBoolean(),byteLength:K.readUInt(4),value:K.readValue()});C=K.strings=[];A=K.objects=[];E=K.traits=[]}for(L=K.readUInt(2);L--;){I.push({targetURI:K.readAmf0String(),responseURI:K.readAmf0String(),byteLength:K.readUInt(4),body:K.readValue()});C=K.strings=[];A=K.objects=[];E=K.traits=[]}B=0;D=C=A=E=K.bytes=K.strings=K.objects=K.traits=null;return K},decodeValue:function(I){var H=this;D=H.bytes=I;B=0;H.version=3;C=H.strings=[];A=H.objects=[];E=H.traits=[];return H.readValue()},parseXml:function(H){var I;if(window.DOMParser){I=(new DOMParser()).parseFromString(H,"text/xml")}else{I=new ActiveXObject("Microsoft.XMLDOM");I.loadXML(H)}return I},readAmf0Date:function(){var H=new Date(this.readDouble());B+=2;return H},readAmf0Object:function(I){var J=this,H;I=I||{};A.push(I);while((H=J.readAmf0String())||D[B]!==9){I[H]=J.readValue()}B++;return I},readAmf0String:function(){return this.readUtf8(this.readUInt(2))},readAmf0Xml:function(){return this.parseXml(this.readLongString())},readAmf3Array:function(){var L=this,I=L.readUInt29(),J,H,M,K;if(I&1){J=(I>>1);H=L.readAmf3String();if(H){M={};A.push(M);do{M[H]=L.readValue()}while((H=L.readAmf3String()));for(K=0;K<J;K++){M[K]=L.readValue()}}else{M=[];A.push(M);for(K=0;K<J;K++){M.push(L.readValue())}}}else{M=A[I>>1]}return M},readAmf3Date:function(){var I=this,H=I.readUInt29(),J;if(H&1){J=new Date(I.readDouble());A.push(J)}else{J=A[H>>1]}return J},readAmf3Object:function(){var N=this,Q=N.readUInt29(),H=[],R,J,P,S,I,K,O,M,L;if(Q&1){R=(Q&7);if(R===3){P=N.readAmf3String();S=!!(Q&8);J=(Q>>4);for(L=0;L<J;L++){H.push(N.readAmf3String())}I={className:P,dynamic:S,members:H};E.push(I)}else{if((Q&3)===1){I=E[Q>>2];P=I.className;S=I.dynamic;H=I.members;J=H.length}else{if(R===7){}}}if(P){M=Ext.ClassManager.getByAlias("amf."+P);K=M?new M():{$className:P}}else{K={}}A.push(K);for(L=0;L<J;L++){K[H[L]]=N.readValue()}if(S){while((O=N.readAmf3String())){K[O]=N.readValue()}}if((!M)&&this.converters[P]){K=this.converters[P](K)}}else{K=A[Q>>1]}return K},readAmf3String:function(){var I=this,H=I.readUInt29(),J;if(H&1){J=I.readUtf8(H>>1);if(J){C.push(J)}return J}else{return C[H>>1]}},readAmf3Xml:function(){var I=this,H=I.readUInt29(),J;if(H&1){J=I.parseXml(I.readUtf8(H>>1));A.push(J)}else{J=A[H>>1]}return J},readBoolean:function(){return !!D[B++]},readByteArray:function(){var I=this.readUInt29(),J,H;if(I&1){H=B+(I>>1);J=Array.prototype.slice.call(D,B,H);A.push(J);B=H}else{J=A[I>>1]}return J},readDouble:function(){var K=D[B++],L=D[B++],J=(K>>7)?-1:1,H=(((K&127)<<4)|(L>>4)),M=(L&15),N=H?1:0,I=6;while(I--){M=(M*F)+D[B++]}if(!H){if(!M){return 0}H=1}if(H===2047){return M?NaN:(Infinity*J)}return J*Math.pow(2,H-1023)*(N+G*M)},readEcmaArray:function(){B+=4;return this.readAmf0Object()},readFalse:function(){return false},readLongString:function(){return this.readUtf8(this.readUInt(4))},readNull:function(){return null},readReference:function(){return A[this.readUInt(2)]},readStrictArray:function(){var H=this,I=H.readUInt(4),J=[];A.push(J);while(I--){J.push(H.readValue())}return J},readTrue:Ext.returnTrue,readTypedObject:function(){var K=this,H=K.readAmf0String(),L,J,I;L=Ext.ClassManager.getByAlias("amf."+H);J=L?new L():{$className:H};I=K.readAmf0Object(J);if((!L)&&this.converters[H]){I=this.converters[H](J)}return I},readUInt:function(J){var H=1,I;I=D[B++];for(;H<J;++H){I=(I<<8)|D[B++]}return I},readUInt29:function(){var I=D[B++],H;if(I&128){H=D[B++];I=((I&127)<<7)|(H&127);if(H&128){H=D[B++];I=(I<<7)|(H&127);if(H&128){H=D[B++];I=(I<<8)|H}}}return I},readUndefined:Ext.emptyFn,readUnsupported:Ext.emptyFn,readUtf8:function(L){var O=B+L,I=[],K=0,Q=65535,M=1,H=[],N=0,R,J,P;R=[I];while(B<O){P=D[B++];if(P>127){if(P>239){J=4;P=(P&7)}else{if(P>223){J=3;P=(P&15)}else{J=2;P=(P&31)}}while(--J){P=((P<<6)|(D[B++]&63))}}I.push(P);if(++K===Q){R.push(I=[]);K=0;M++}}for(;N<M;N++){H.push(String.fromCharCode.apply(String,R[N]))}return H.join("")},readValue:function(){var I=this,H=D[B++];if(H===17){I.version=3;H=D[B++]}return I[I.typeMap[I.version][H]]()},converters:{"flex.messaging.io.ArrayCollection":function(H){return H.source||[]}}}});
Ext.define("Ext.chart.axis.Radial",{extend:"Ext.chart.axis.Numeric",position:"radial",alias:"axis.radial",drawAxis:function(O){var N=this.chart,G=N.surface,E=N.chartBBox,D=N.getChartStore(),C=D.getCount(),P=E.x+(E.width/2),Q=E.y+(E.height/2),H=Math.min(E.width,E.height)/2,M=[],I,J=this.steps,B,A,F=Math.PI*2,K=Math.cos,L=Math.sin;if(this.sprites&&!N.resizing){this.drawLabel();return}if(!this.sprites){for(B=1;B<=J;B++){I=G.add({type:"circle",x:P,y:Q,radius:Math.max(H*B/J,0),stroke:"#ccc"});I.setAttributes({hidden:false},true);M.push(I)}for(B=0;B<C;B++){I=G.add({type:"path",path:["M",P,Q,"L",P+H*K(B/C*F),Q+H*L(B/C*F),"Z"],stroke:"#ccc"});I.setAttributes({hidden:false},true);M.push(I)}}else{M=this.sprites;for(B=0;B<J;B++){M[B].setAttributes({x:P,y:Q,radius:Math.max(H*(B+1)/J,0),stroke:"#ccc"},true)}for(A=0;A<C;A++){M[B+A].setAttributes({path:["M",P,Q,"L",P+H*K(A/C*F),Q+H*L(A/C*F),"Z"],stroke:"#ccc"},true)}}this.sprites=M;this.drawLabel()},drawLabel:function(){var G=this.chart,X=G.series.items,Y,h=G.surface,E=G.chartBBox,Q=G.getChartStore(),c=Q.data.items,U,C,K=E.x+(E.width/2),L=E.y+(E.height/2),g=Math.min(E.width,E.height)/2,f=Math.max,e=Math.round,H=[],M,V=[],B,a=[],R,b=!this.maximum,I=this.maximum||0,F=this.minimum||0,T=this.steps,O=0,N,d,S,Z=Math.PI*2,W=Math.cos,D=Math.sin,J=this.label.display,A=J!=="none",P=10;if(!A){return}for(O=0,U=X.length;O<U;O++){Y=X[O];V.push(Y.yField);R=Y.xField}for(N=0,U=c.length;N<U;N++){C=c[N];a.push(C.get(R));if(b){for(O=0,B=V.length;O<B;O++){I=f(+C.get(V[O]),I)}}}if(!this.labelArray){if(J!="categories"){for(O=1;O<=T;O++){M=h.add({type:"text",text:e(O/T*I),x:K,y:L-g*O/T,"text-anchor":"middle","stroke-width":0.1,stroke:"#333"});M.setAttributes({hidden:false},true);H.push(M)}}if(J!="scale"){for(N=0,T=a.length;N<T;N++){d=W(N/T*Z)*(g+P);S=D(N/T*Z)*(g+P);M=h.add({type:"text",text:a[N],x:K+d,y:L+S,"text-anchor":d*d<=0.001?"middle":(d<0?"end":"start")});M.setAttributes({hidden:false},true);H.push(M)}}}else{H=this.labelArray;if(J!="categories"){for(O=0;O<T;O++){H[O].setAttributes({text:e((O+1)/T*(I-F)+F),x:K,y:L-g*(O+1)/T,"text-anchor":"middle","stroke-width":0.1,stroke:"#333"},true)}}if(J!="scale"){for(N=0,T=a.length;N<T;N++){d=W(N/T*Z)*(g+P);S=D(N/T*Z)*(g+P);if(H[O+N]){H[O+N].setAttributes({type:"text",text:a[N],x:K+d,y:L+S,"text-anchor":d*d<=0.001?"middle":(d<0?"end":"start")},true)}}}}this.labelArray=H},processView:function(){var C=this,D=C.chart.series.items,A,F,B,E,G=[];for(A=0,F=D.length;A<F;A++){B=D[A];G.push(B.yField)}C.fields=G;E=C.calcEnds();C.maximum=E.to;C.steps=E.steps}});
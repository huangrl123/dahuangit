Ext.define("Ext.draw.ContainerBase",{extend:"Ext.panel.Panel",requires:["Ext.window.Window"],layout:"container",addElementListener:function(){var A=this,B=arguments;if(A.rendered){A.el.on.apply(A.el,B)}else{A.on("render",function(){A.el.on.apply(A.el,B)})}},afterRender:function(){this.callParent(arguments);this.initAnimator()},getItems:function(){var A=this,B=A.items;if(!B||!B.isMixedCollection){A.initItems()}return A.items},onRender:function(){this.callParent(arguments);this.element=this.el;this.innerElement=this.body},setItems:function(A){this.items=A;return A},setSurfaceSize:function(B,A){this.resizeHandler({width:B,height:A});this.renderFrame()},onResize:function(){var A=this.body.lastBox;this.onBodyResize(A.width,A.height)},preview:function(){var A=this.getImage();new Ext.window.Window({title:"Chart Preview",closeable:true,renderTo:Ext.getBody(),autoShow:true,maximizeable:true,maximized:true,border:true,layout:{type:"hbox",pack:"center",align:"middle"},items:{xtype:"container",items:{xtype:"image",mode:"img",cls:Ext.baseCSSPrefix+"chart-image",src:A.data,listeners:{afterrender:function(){var D=this,E=D.imgEl.dom,C=A.type==="svg"?1:(window["devicePixelRatio"]||1),B;if(!E.naturalWidth||!E.naturalHeight){E.onload=function(){var G=E.naturalWidth,F=E.naturalHeight;D.setWidth(Math.floor(G/C));D.setHeight(Math.floor(F/C))}}else{B=D.getSize();D.setWidth(Math.floor(B.width/C));D.setHeight(Math.floor(B.height/C))}}}}}})},privates:{getTargetEl:function(){return this.innerElement}}});
Ext.define("Ext.direct.JsonProvider",{extend:"Ext.direct.Provider",alias:"direct.jsonprovider",uses:["Ext.direct.ExceptionEvent","Ext.direct.Manager"],parseResponse:function(A){if(!Ext.isEmpty(A.responseText)){if(Ext.isObject(A.responseText)){return A.responseText}return Ext.decode(A.responseText)}return null},createEvents:function(H){var E=this,B=null,G=[],C,D,F;try{B=E.parseResponse(H)}catch(A){C=new Ext.direct.ExceptionEvent({data:A,xhr:H,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+A});return[C]}if(Ext.isArray(B)){for(D=0,F=B.length;D<F;++D){G.push(E.createEvent(B[D]))}}else{if(Ext.isObject(B)){G.push(E.createEvent(B))}}return G},createEvent:function(A){if(typeof A!=="object"||!("type" in A)){return new Ext.direct.ExceptionEvent({data:A,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"})}return Ext.create("direct."+A.type,A)}});
Ext.define("Ext.chart.axis.segmenter.Time",{extend:"Ext.chart.axis.segmenter.Segmenter",alias:"segmenter.time",config:{step:null},renderer:function(C,A){var B=Ext.Date;switch(A.majorTicks.unit){case"y":return B.format(C,"Y");case"mo":return B.format(C,"Y-m");case"d":return B.format(C,"Y-m-d")}return B.format(C,"Y-m-d\nH:i:s")},from:function(A){return new Date(A)},diff:function(A,D,C){var B=Ext.Date;if(isFinite(A)){A=new Date(A)}if(isFinite(D)){D=new Date(D)}return B.diff(A,D,C)},align:function(C,A,B){if(B==="d"&&A>=7){C=Ext.Date.align(C,"d",A);C.setDate(C.getDate()-C.getDay()+1);return C}else{return Ext.Date.align(C,B,A)}},add:function(C,A,B){return Ext.Date.add(new Date(C),B,A)},preferredStep:function(B,C){if(this.getStep()){return this.getStep()}var G=new Date(+B),I=new Date(+B+Math.ceil(C)),J=Ext.Date,A=[[J.YEAR,1,2,5,10,20,50,100,200,500],[J.MONTH,1,3,6],[J.DAY,1,7,14],[J.HOUR,1,6,12],[J.MINUTE,1,5,15,30],[J.SECOND,1,5,15,30],[J.MILLI,1,2,5,10,20,50,100,200,500]],D;for(var F=0;F<A.length;F++){var K=A[F][0],E=this.diff(G,I,K);if(E>0){for(var H=1;H<A[F].length;H++){if(E<=A[F][H]){D={unit:K,step:A[F][H]};break}}if(!D){F--;D={unit:A[F][0],step:1}}break}}if(!D){D={unit:J.DAY,step:1}}return D}});
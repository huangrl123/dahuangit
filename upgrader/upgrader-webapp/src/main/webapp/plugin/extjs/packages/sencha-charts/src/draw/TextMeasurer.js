Ext.define("Ext.draw.TextMeasurer",{singleton:true,requires:["Ext.util.TextMetrics"],measureTextSingleLine:function(B,A){B=B.toString();var C=this.measureDiv||(this.measureDiv=Ext.getBody().createChild({tag:"div",overflow:"hidden",position:"relative","data-sticky":true,"float":"left",width:0,height:0,children:{tag:"div",display:"block",position:"absolute",x:-100000,y:-100000,padding:0,margin:0,"z-index":-100000,"white-space":"nowrap"}}).down("div"));C.setStyle({font:A||""});return Ext.util.TextMetrics.measure(C,B)},measureText:function(G,I){var D=G.split("\n"),C=D.length,B=0,H=0,A,E,F;if(C===1){return this.measureTextSingleLine(G,I)}F=[];for(E=0;E<C;E++){A=this.measureTextSingleLine(D[E],I);F.push(A);B+=A.height;H=Math.max(H,A.width)}return{width:H,height:B,sizes:F}}});
Ext.define("Ext.aria.view.Table",{override:"Ext.view.Table",requires:["Ext.aria.view.View"],ariaGetRenderAttributes:function(){var E=this,B=E.plugins,C=true,D,A,F;D=E.callParent();if(B){for(A=0,F=B.length;A<F;A++){if("editing" in B[A]){C=false;break}}}D["aria-readonly"]=C;return D},ariaItemAdd:Ext.emptyFn,ariaItemRemove:Ext.emptyFn,ariaInitViewItems:Ext.emptyFn,ariaFindNode:function(F,D,C,E){var A=this,B;if(F.isCellModel){if(E>-1){B=A.getCellByPosition({row:C,column:E})}else{B=A.getCellByPosition({row:C,column:0})}}else{B=Ext.fly(A.getNode(D))}return B},ariaSelect:function(F,D,C,E){var A=this,B;B=A.ariaFindNode(F,D,C,E);if(B){B.set({"aria-selected":true});A.ariaUpdate({"aria-activedescendant":B.id})}},ariaDeselect:function(F,D,C,E){var A=this,B;B=A.ariaFindNode(F,D,C,E);if(B){B.set({"aria-selected":undefined});A.ariaUpdate({"aria-activedescendant":undefined})}},ariaStepIn:function(){var B=this,E=B.selModel,C,A,D;C=E.getLastSelected();if(C){if(E.isCellModel){A=E.getCurrentPosition();D=B.getCellByPosition(D);B.ariaAddFocus(D)}else{B.ariaAddFocus(B.getNode(C))}}else{if(B.getNodes().length>0){E.selectByPosition({row:0,column:0})}else{E.onKeyUp()}}},ariaStepOut:function(){var A=this,D=A.selModel,B,C;B=D.getLastFocused();if(B){if(D.isCellModel){C=A.getCellByPosition(D.lastSelection);A.ariaRemoveFocus(C)}else{A.ariaRemoveFocus(A.getNode(B))}}},ariaFocusChanged:function(E,A,D){var C=this,B;if(C.selModel.isCellModel){if(A){B=C.getCellByPosition(E.lastSelection);C.ariaRemoveFocus(B)}if(D){B=C.getCellByPosition(E.nextSelection);C.ariaAddFocus(B)}}else{C.callParent(arguments)}},renderRow:function(C,E,D){var A=this,B=A.rowValues;B.ariaRowAttr='role="row"';return A.callParent(arguments)},renderCell:function(D,H,E,A,B,C){var G=this,F=G.cellValues;F.ariaCellAttr='role="gridcell"';F.ariaCellInnerAttr="";return G.callParent(arguments)},collectData:function(B,C){var A=this,D;D=A.callParent(arguments);Ext.applyIf(D,{ariaTableAttr:'role="presentation"',ariaTbodyAttr:'role="rowgroup"'});return D},getFocusEl:function(){return this.el},focus:function(){var A=this;A.callParent();A.el.focus();if(A.headerFocused){A.up("tablepanel").headerCt.focus()}},focusRow:function(D){var B=this,A=B.getNode(D,true),C;if(A&&B.el){C=B.getRecord(A);D=B.indexInStore(A);B.selModel.setLastFocused(C);Ext.fly(A).scrollIntoView(B.el,false);B.focusedRow=A;B.fireEvent("rowfocus",C,A,D)}}});
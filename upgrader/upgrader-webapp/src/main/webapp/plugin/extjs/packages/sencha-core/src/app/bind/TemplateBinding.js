Ext.define("Ext.app.bind.TemplateBinding",{extend:"Ext.app.bind.BaseBinding",requires:["Ext.app.bind.Multi","Ext.app.bind.Template"],isTemplateBinding:true,lastValue:undefined,value:undefined,constructor:function(A,B,C,D,F){var G=this,H=new Ext.app.bind.Template(A),E=H.getTokens();G.callParent([B,C,D,F]);G.tpl=H;G.tokens=E;E.$literal=true;if(E.length){G.multiBinding=new Ext.app.bind.Multi(E,B,G.onBindData,G)}else{G.isStatic=true;G.onData(H.text)}},destroy:function(){var A=this;Ext.destroy(A.multiBinding);A.tpl=A.multiBinding=null;A.callParent()},getFullName:function(){var A=this.multiBinding;return this.fullName||(this.fullName="$"+(A?A.getFullName():this.callParent()))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isDescendantOf:function(){return false},isLoading:function(){var A=this.multiBinding;return A?A.isLoading():false},onBindData:function(A){this.onData(this.tpl.apply(A,this.getTemplateScope()))},onData:function(C){var B=this,A=B.value;if(A!==(B.value=C)){B.lastValue=A;B.schedule()}},react:function(){this.notify(this.value)},refresh:function(){var A=this.multiBinding;if(A){A.refresh()}},privates:{sort:function(){var A=this.multiBinding;if(A){this.scheduler.sortItem(A)}}}});
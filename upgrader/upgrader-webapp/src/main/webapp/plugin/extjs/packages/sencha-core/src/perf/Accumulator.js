Ext.define("Ext.perf.Accumulator",function(){var J=null,C=Ext.global["chrome"],F,H=function(){H=Ext.now;var M,K;if(Ext.isChrome&&C&&C.Interval){M=new C.Interval();M.start();H=function(){return M.microseconds()/1000}}else{if(window.ActiveXObject){try{K=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=K;H=function(){return K.milliseconds}}catch(L){}}}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=H;return H()};function I(L,K){L.sum+=K;L.min=Math.min(L.min,K);L.max=Math.max(L.max,K)}function A(N){var M=N?N:(H()-this.time),K=this,L=K.accum;++L.count;if(!--L.depth){I(L.total,M)}I(L.pure,M-K.childTime);J=K.parent;if(J){++J.accum.childCount;J.childTime+=M}}function B(){return{min:Number.MAX_VALUE,max:0,sum:0}}function D(L,K){return function(){var N=L.enter(),M=K.apply(this,arguments);N.leave();return M}}function G(K){return Math.round(K*100)/100}function E(L,K,M,N){var O={avg:0,min:N.min,max:N.max,sum:0};if(L){M=M||0;O.sum=N.sum-K*M;O.avg=O.sum/L}return O}return{requires:["Ext.XTemplate","Ext.ClassManager"],constructor:function(L){var K=this;K.count=K.childCount=K.depth=K.maxDepth=0;K.pure=B();K.total=B();K.name=L},statics:{getTimestamp:H},format:function(K){if(!F){F=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(M){return Math.round(M*100)/100}})}var L=this.getData(K);L.name=this.name;L.pure.type="Pure";L.total.type="Total";L.times=[L.pure,L.total];return F.apply(L)},getData:function(L){var K=this;return{count:K.count,childCount:K.childCount,depth:K.maxDepth,pure:E(K.count,K.childCount,L,K.pure),total:E(K.count,K.childCount,L,K.total)}},enter:function(){var K=this,L={accum:K,leave:A,childTime:0,parent:J};++K.depth;if(K.maxDepth<K.depth){K.maxDepth=K.depth}J=L;L.time=H();return L},monitor:function(L,M,N){var K=this.enter();if(N){L.apply(M,N)}else{L.call(M)}K.leave()},report:function(){Ext.log(this.format())},tap:function(T,V){var S=this,N=typeof V=="string"?[V]:V,Q,L,P,R,U,K,O,M;M=function(){if(typeof T=="string"){Q=Ext.global;R=T.split(".");for(P=0,U=R.length;P<U;++P){Q=Q[R[P]]}}else{Q=T}for(P=0,U=N.length;P<U;++P){K=N[P];L=K.charAt(0)=="!";if(L){K=K.substring(1)}else{L=!(K in Q.prototype)}O=L?Q:Q.prototype;O[K]=D(S,O[K])}};Ext.ClassManager.onCreated(M,S,T);return S}}},function(){Ext.perf.getTimestamp=this.getTimestamp});
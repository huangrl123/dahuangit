Ext.define("Ext.draw.modifier.Highlight",{extend:"Ext.draw.modifier.Modifier",alias:"modifier.highlight",config:{enabled:false,highlightStyle:null},preFx:true,applyHighlightStyle:function(B,A){A=A||{};if(this.getSprite()){Ext.apply(A,this.getSprite().self.def.normalize(B))}else{Ext.apply(A,B)}return A},prepareAttributes:function(A){if(!A.hasOwnProperty("highlightOriginal")){A.highlighted=false;A.highlightOriginal=Ext.Object.chain(A)}if(this._previous){this._previous.prepareAttributes(A.highlightOriginal)}},updateSprite:function(B,C){if(B){if(this.getHighlightStyle()){this._highlightStyle=B.self.def.normalize(this.getHighlightStyle())}this.setHighlightStyle(B.config.highlight)}var A=B.self.def;this.setSprite(B);A.setConfig({defaults:{highlighted:false},processors:{highlighted:"bool"},dirtyTriggers:{},updaters:{}})},filterChanges:function(F,C){var B=this,D,A=F.highlightOriginal,E=B.getHighlightStyle();if(F.highlighted){for(D in C){if(E.hasOwnProperty(D)){A[D]=C[D];delete C[D]}}}for(D in C){if(D!=="highlighted"&&A[D]===C[D]){delete C[D]}}return C},pushDown:function(F,D){var C=this.getHighlightStyle(),A=F.highlightOriginal,B,E;if(D.hasOwnProperty("highlighted")){B=D.highlighted;delete D.highlighted;if(this._previous){D=this._previous.pushDown(A,D)}D=this.filterChanges(F,D);if(B!==F.highlighted){if(B){for(E in C){if(E in D){A[E]=D[E]}else{A[E]=F[E]}if(A[E]!==C[E]){D[E]=C[E]}}}else{for(E in C){if(!(E in D)){D[E]=A[E]}delete A[E]}}D.highlighted=B}}else{if(this._previous){D=this._previous.pushDown(A,D)}D=this.filterChanges(F,D)}return D},popUp:function(B,A){A=this.filterChanges(B,A);Ext.draw.modifier.Modifier.prototype.popUp.call(this,B,A)}});
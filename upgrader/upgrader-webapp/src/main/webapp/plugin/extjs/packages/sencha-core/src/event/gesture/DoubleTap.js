Ext.define("Ext.event.gesture.DoubleTap",{extend:"Ext.event.gesture.SingleTouch",inheritableStatics:{DIFFERENT_TARGET:"Different Target"},config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(B){var C=this,A;if(C.callParent(arguments)===false){return false}A=C.lastStartPoint=B.changedTouches[0].point;C.startPoint=C.startPoint||A;C.startTime=B.time;clearTimeout(C.singleTapTimer)},onTouchMove:function(A){var C=this,B=A.changedTouches[0].point;if(Math.abs(B.getDistanceTo(C.lastStartPoint))>=C.getMoveDistance()){C.startPoint=null;return C.fail(C.self.TOUCH_MOVED)}},onTouchEnd:function(C){var A=this,D=A.getMaxDuration(),B=C.time,H=C.target,F=A.lastTapTime,E=A.lastTarget,I=C.changedTouches[0].point,G;A.lastTapTime=B;A.lastTarget=H;if(F){G=B-F;if(G<=D&&Math.abs(I.getDistanceTo(A.startPoint))<=A.getTapDistance()){if(H!==E){return A.fail(A.self.DIFFERENT_TARGET)}A.lastTarget=null;A.lastTapTime=0;A.fire("doubletap",C,{touch:C.changedTouches[0],duration:G});A.startPoint=null;return}}if(B-A.startTime>D){A.fireSingleTap(C)}else{A.setSingleTapTimer(C)}},setSingleTapTimer:function(A){var B=this;B.singleTapTimer=setTimeout(function(){B.fireSingleTap(A)},B.getMaxDuration())},fireSingleTap:function(A,B){this.fire("singletap",A,{touch:B});this.startPoint=null}});
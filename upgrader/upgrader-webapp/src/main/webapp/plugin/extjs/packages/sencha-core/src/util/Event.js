Ext.define("Ext.util.Event",function(){var A=Array.prototype.slice,D=Ext.Array.insert,C=Ext.Array.toArray,B={};return{requires:"Ext.util.DelayedTask",isEvent:true,suspended:0,noOptions:{},constructor:function(E,F){this.name=F;this.observable=E;this.listeners=[]},addListener:function(O,I,N,K){var E=this,P,G,Q,R,F,S,J,H,L,M;if(typeof O!=="string"){I=I||E.observable}if(!O){Ext.Error.raise({sourceClass:Ext.getClassName(this.observable),sourceMethod:"addListener",msg:"The specified callback function is undefined"})}if(!E.isListening(O,I)){G=E.createListener(O,I,N,K);if(E.firing){E.listeners=E.listeners.slice(0)}P=E.listeners;H=J=P.length;Q=N&&N.priority;F=E._highestNegativePriorityIndex;S=(F!==undefined);if(Q){R=(Q<0);if(!R||S){for(L=(R?F:0);L<J;L++){M=P[L].o?P[L].o.priority||0:0;if(M<Q){H=L;break}}}else{E._highestNegativePriorityIndex=H}}else{if(S){H=F}}if(!R&&H<=F){E._highestNegativePriorityIndex++}if(H===J){E.listeners[J]=G}else{D(E.listeners,H,[G])}}return G},createListener:function(J,F,L,I){var K=this,G=F==="this"||F==="controller",E={fn:J,scope:F,ev:K,caller:I,preventClimb:G,defaultScope:G?F:undefined,lateBound:(typeof J==="string"&&(!F||G))},H=J,M=true;if(L){E.o=L;if(L.single){H=K.createSingle(H,E,L,F);M=false}if(L.target){H=K.createTargeted(H,E,L,F,M);M=false}if(L.delay){H=K.createDelayed(H,E,L,F,M);M=false}if(L.buffer){H=K.createBuffered(H,E,L,F,M);M=false}}E.fireFn=H;E.allowLookup=M;return E},findListener:function(I,K){var E=this.listeners,F=E.length,J,G,H;while(F--){J=E[F];if(J){G=J.scope;H=(J.lateBound&&!J.preventClimb)?undefined:(K||this.observable);if(J.fn==I&&G==H){return F}}}return -1},isListening:function(E,F){return this.findListener(E,F)!==-1},removeListener:function(H,J){var I=this,G,E,K,F;if(H.fireFn){G=Ext.Array.indexOf(listeners,H)}else{G=I.findListener(H,J)}if(G!=-1){E=I.listeners[G];K=I._highestNegativePriorityIndex;if(I.firing){I.listeners=I.listeners.slice(0)}if(E.task){E.task.cancel();delete E.task}F=E.tasks&&E.tasks.length;if(F){while(F--){E.tasks[F].cancel()}delete E.tasks}I.listeners.splice(G,1);if(K){if(G<K){I._highestNegativePriorityIndex--}else{if(G===K&&G===I.listeners.length){delete I._highestNegativePriorityIndex}}}return true}return false},clearListeners:function(){var F=this.listeners,E=F.length;while(E--){this.removeListener(F[E].fn,F[E].scope)}},suspend:function(){++this.suspended},resume:function(){if(this.suspended){--this.suspended}},isSuspended:function(){return this.suspended>0},fire:function(){var E=this,L=E.listeners,H=L.length,J,I,F,G,K;if(!E.suspended&&H>0){E.firing=true;F=arguments.length?A.call(arguments,0):[];K=F.length;for(I=0;I<H;I++){G=L[I];if(G.o){F[K]=G.o}if(G){J=E.getFireInfo(G);if(J.fn.apply(J.scope,F)===false){return(E.firing=false)}}}}E.firing=false;return true},getFireInfo:function(H,K){var F=this.observable,G=K?H.fn:H.fireFn,J=H.scope,E=H.caller;var I=G;if((K||H.allowLookup)&&H.lateBound){J=(E||F).resolveListenerScope(H.defaultScope);G=J[G]}else{J=J||F}B.fn=G;B.scope=J;if(!G){Ext.Error.raise('Unable to dynamically resolve method "'+I+'"')}return B},createTargeted:function(G,H,F,I,E){return function(){if(F.target===arguments[0]){var J;if(E){J=H.ev.getFireInfo(H,true);G=J.fn;I=J.scope}G.apply(I,arguments)}}},createBuffered:function(G,H,F,I,E){H.task=new Ext.util.DelayedTask();return function(){var J;if(E){J=H.ev.getFireInfo(H,true);G=J.fn;I=J.scope}H.task.delay(F.buffer,G,I,C(arguments))}},createDelayed:function(G,H,F,I,E){return function(){var J=new Ext.util.DelayedTask(),K;if(E){K=H.ev.getFireInfo(H,true);G=K.fn;I=K.scope}if(!H.tasks){H.tasks=[]}H.tasks.push(J);J.delay(F.delay||10,G,I,C(arguments))}},createSingle:function(F,G,E,H){return function(){var I=G.ev,J=I.getFireInfo(G,true);if(I.removeListener(G.fn,H)&&I.observable){I.observable.hasListeners[I.name]--}J.fn.apply(J.scope,arguments)}}}});
Ext.define("Ext.util.Observable",function(C){var E=Ext.emptyFn,B=[],F=Array.prototype,A=F.slice,D=Ext.$eventNameMap,G=function(H){if(H instanceof G){return H}this.observable=H;if(arguments[1].isObservable){this.managedListeners=true}this.args=A.call(arguments,1)};G.prototype.destroy=function(){var H=this.observable;H[this.managedListeners?"mun":"un"].apply(H,this.args)};return{mixinId:"observable",requires:["Ext.util.Event"],statics:{releaseCapture:function(H){H.fireEventArgs=this.prototype.fireEventArgs},capture:function(H,I,K){var J=function(L,M){return I.apply(K,[L].concat(M))};this.captureArgs(H,J,K)},captureArgs:function(H,I,J){H.fireEventArgs=Ext.Function.createInterceptor(H.fireEventArgs,I,J)},observe:function(H,I){if(H){if(!H.isObservable){Ext.applyIf(H,new this());this.captureArgs(H.prototype,H.fireEventArgs,H)}if(Ext.isObject(I)){H.on(I)}}return H},prepareClass:function(O,K,J){var L=O.listeners=[],M=J?J.listeners:O.prototype.listeners,I,K;if(K){L.push(K.listeners)}else{L.push(O.superclass.self.listeners)}if(M){L.push(M)}if(!O.HasListeners){var H=function(){},N=O.superclass.HasListeners||(K&&K.HasListeners)||C.HasListeners;O.prototype.HasListeners=O.HasListeners=H;H.prototype=O.hasListeners=new N()}}},isObservable:true,isUtilObservable:true,eventsSuspended:0,constructor:function(I){var J=this,H=J.self,K;if(I){Ext.apply(J,I)}J.hasListeners=new J.HasListeners();J.events=J.events||{};K=H.listeners;if(K&&!J._addDeclaredListeners(K)){H.listeners=null}if(J.listeners){J.on(J.listeners);J.listeners=null}if(J.bubbleEvents){J.enableBubble(J.bubbleEvents)}},onClassExtended:function(H){if(!H.HasListeners){C.prepareClass(H)}},eventOptionsRe:/^(?:scope|delay|buffer|onFrame|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|priority)$/,_addDeclaredListeners:function(I){var H=this;if(I instanceof Array){Ext.each(I,H._addDeclaredListeners,H)}else{H._addedDeclaredListeners=true;H.addListener(I)}return H._addedDeclaredListeners},addManagedListener:function(Q,N,M,J,L,H){var O=this,I=O.managedListeners=O.managedListeners||[],K,P;if(typeof N!=="string"){P=arguments.length>4?L:N;L=N;for(N in L){if(L.hasOwnProperty(N)){K=L[N];if(!O.eventOptionsRe.test(N)){O.addManagedListener(Q,N,K.fn||K,K.scope||L.scope||J,K.fn?K:P,true)}}}if(L&&L.destroyable){return new G(O,Q,L)}}else{if(M!==E){I.push({item:Q,ename:N,fn:M,scope:J,options:L});if(Q.isUtilObservable){Q.on(N,M,J,L,O)}else{Q.on(N,M,J,L)}if(!H&&L&&L.destroyable){return new G(O,Q,N,M,J)}}}},removeManagedListener:function(Q,O,N,J){var P=this,L,H,I,K,M;if(typeof O!=="string"){L=O;for(O in L){if(L.hasOwnProperty(O)){H=L[O];if(!P.eventOptionsRe.test(O)){P.removeManagedListener(Q,O,H.fn||H,H.scope||L.scope||J)}}}}else{I=P.managedListeners?P.managedListeners.slice():[];if(typeof N==="string"&&J&&J!=="this"&&J!=="controller"&&!I.length){P.resolveMethod(N,J)}for(M=0,K=I.length;M<K;M++){P.removeManagedListenerItem(false,I[M],Q,O,N,J)}}},fireEvent:function(H){return this.fireEventArgs(H,A.call(arguments,1))},resolveListenerScope:function(H){if(H==="controller"){Ext.Error.raise('scope: "controller" can only be specified on components that derive from component')}if(H==="this"){H=null}return H||this},fireEventArgs:function(I,M){I=D[I]||(D[I]=I.toLowerCase());var H=this,K=H.events,J=K&&K[I],L=true;if(H.hasListeners[I]){L=H.doFireEvent(I,M||B,J?J.bubble:false)}return L},doFireEvent:function(J,N,H){var L=this,K,I,M=true;do{if(L.eventsSuspended){if((K=L.eventQueue)){K.push([J,N])}return M}else{I=L.events&&L.events[J];if(I&&I!==true){if((M=I.fire.apply(I,N))===false){break}}}}while(H&&(L=L.getBubbleParent()));return M},getBubbleParent:function(){var H=this,I=H.getBubbleTarget&&H.getBubbleTarget();if(I&&I.isObservable){return I}return null},addListener:function(O,N,J,M,L){var P=this,H,K,I=0;if(typeof O!=="string"){M=O;for(O in M){H=M[O];if(!P.eventOptionsRe.test(O)){P.addListener(O,H.fn||H,H.scope||M.scope,H.fn?H:M,L)}}if(M&&M.destroyable){return new G(P,M)}}else{O=D[O]||(D[O]=O.toLowerCase());K=(P.events||(P.events={}))[O];if(K&&K.isEvent){I=K.listeners.length}else{P.events[O]=K=new Ext.util.Event(P,O)}if(typeof N==="string"&&J&&J!=="this"&&J!=="controller"){N=P.resolveMethod(N,J)}else{if(!(typeof N==="string"&&(!J||J==="this"||J==="controller"))){Ext.Assert.isFunction(N,"No function passed for event "+P.$className+"."+O)}}if(N!==E){K.addListener(N,J,M,L);if(K.listeners.length!==I){P.hasListeners._incr_(O)}if(M&&M.destroyable){return new G(P,O,N,J,M)}}}},removeListener:function(M,L,I){var N=this,O=N.events,H,J,K;if(typeof M!=="string"){K=M;for(M in K){if(K.hasOwnProperty(M)){H=K[M];if(!N.eventOptionsRe.test(M)){N.removeListener(M,H.fn||H,H.scope||K.scope)}}}}else{M=D[M]||(D[M]=M.toLowerCase());J=O&&O[M];if(J&&J.isEvent){if(typeof L==="string"&&I&&I!=="this"&&I!=="controller"){L=N.resolveMethod(L,I)}if(J.removeListener(L,I)){N.hasListeners._decr_(M)}}}},clearListeners:function(){var J=this,L=J.events,I=J.hasListeners,K,H;if(L){for(H in L){if(L.hasOwnProperty(H)){K=L[H];if(K.isEvent){delete I[H];K.clearListeners()}}}}J.clearManagedListeners()},purgeListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners.")}return this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){var I=this,J=I.managedListeners||[],H=0,K=J.length;for(;H<K;H++){I.removeManagedListenerItem(true,J[H])}I.managedListeners=[]},removeManagedListenerItem:function(L,H,K,M,J,I){if(L||(H.item===K&&H.ename===M&&(!J||H.fn===J)&&(!I||H.scope===I))){H.item.un(H.ename,H.fn,H.scope);if(!L){Ext.Array.remove(this.managedListeners,H)}}},purgeManagedListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners.")}return this.clearManagedListeners.apply(this,arguments)},resolveMethod:function(H,I){if(!H){Ext.Error.raise("No function specified")}if(!I||!Ext.isObject(I)){Ext.Error.raise('Named method "'+H+'" requires a scope object')}if(!Ext.isFunction(I[H])){Ext.Error.raise('No method named "'+H+'" on '+(I.$className||"scope object"))}return I[H]},hasListener:function(H){H=D[H]||(D[H]=H.toLowerCase());return !!this.hasListeners[H]},isSuspended:function(I){var H=this.eventsSuspended>0,J=this.events;if(!H&&I&&J){I=J[I];if(I&&I.isEvent){return I.isSuspended()}}return H},suspendEvents:function(H){++this.eventsSuspended;if(H&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(){var I=this,K=I.events||(I.events={}),J=arguments.length,H,M,L;for(H=0;H<J;H++){L=arguments[H];L=D[L]||(D[L]=L.toLowerCase());M=K[L];if(!M||!M.isEvent){K[L]=M=new Ext.util.Event(I,L)}M.suspend()}},resumeEvent:function(){var J=this.events||0,I=J&&arguments.length,H,K;for(H=0;H<I;H++){K=J[arguments[H]];if(K&&K.resume){K.resume()}}},resumeEvents:function(K){var J=this,H=J.eventQueue,L,I;if(J.eventsSuspended&&!--J.eventsSuspended){delete J.eventQueue;if(!K&&H){L=H.length;for(I=0;I<L;I++){J.fireEventArgs.apply(J,H[I])}}}},relayEvents:function(K,O,I){var M=this,N=O.length,J=0,L,H={};for(;J<N;J++){L=O[J];H[L]=M.createRelayer(I?I+L:L)}M.mon(K,H,null,null,undefined);return new G(M,K,H)},createRelayer:function(J,H){var I=this;return function(){return I.fireEventArgs.call(I,J,H?A.apply(arguments,H):arguments)}},enableBubble:function(H){if(H){var N=this,I=(typeof H=="string")?arguments:H,O=N.events||(N.events={}),K=O&&I.length,M,J,L;for(L=0;L<K;++L){M=I[L];M=D[M]||(D[M]=M.toLowerCase());J=O[M];if(!J||!J.isEvent){O[M]=J=new Ext.util.Event(N,M)}N.hasListeners._incr_(M);J.bubble=true}}},deprecated:{"5.0":{methods:{addEvents:null}}}}},function(){var C=this,D=C.prototype,B=function(){},E=function(G){if(!G.HasListeners){var F=G.prototype;C.prepareClass(G,this);G.onExtended(function(H,I){Ext.classSystemMonitor&&Ext.classSystemMonitor("extend mixin",arguments);C.prepareClass(H,null,I)});if(F.onClassMixedIn){Ext.override(G,{onClassMixedIn:function(H){E.call(this,H);this.callParent(arguments)}})}else{F.onClassMixedIn=function(H){E.call(this,H)}}}};B.prototype={_decr_:function(F){if(!--this[F]){delete this[F]}},_incr_:function(F){if(this.hasOwnProperty(F)){++this[F]}else{this[F]=1}}};D.HasListeners=C.HasListeners=B;C.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});C.observeClass=C.observe;function A(J){var G=(this.methodEvents=this.methodEvents||{})[J],F,I,L,H=this,K;if(!G){this.methodEvents[J]=G={};G.originalFn=this[J];G.methodName=J;G.before=[];G.after=[];K=function(M,N,O){if((I=M.apply(N||H,O))!==undefined){if(typeof I=="object"){if(I.returnValue!==undefined){F=I.returnValue}else{F=I}L=!!I.cancel}else{if(I===false){L=true}else{F=I}}}};this[J]=function(){var P=Array.prototype.slice.call(arguments,0),N,M,O;F=I=undefined;L=false;for(M=0,O=G.before.length;M<O;M++){N=G.before[M];K(N.fn,N.scope,P);if(L){return F}}if((I=G.originalFn.apply(H,P))!==undefined){F=I}for(M=0,O=G.after.length;M<O;M++){N=G.after[M];K(N.fn,N.scope,P);if(L){return F}}return F}}return G}Ext.apply(D,{onClassMixedIn:E,beforeMethod:function(G,F,H){A.call(this,G).before.push({fn:F,scope:H})},afterMethod:function(G,F,H){A.call(this,G).after.push({fn:F,scope:H})},removeMethodListener:function(I,H,J){var G=this.getMethodEvent(I),F,K;for(F=0,K=G.before.length;F<K;F++){if(G.before[F].fn==H&&G.before[F].scope==J){Ext.Array.erase(G.before,F,1);return}}for(F=0,K=G.after.length;F<K;F++){if(G.after[F].fn==H&&G.after[F].scope==J){Ext.Array.erase(G.after,F,1);return}}},toggleEventLogging:function(F){Ext.util.Observable[F?"capture":"releaseCapture"](this,function(G){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(G,arguments)}})}})});
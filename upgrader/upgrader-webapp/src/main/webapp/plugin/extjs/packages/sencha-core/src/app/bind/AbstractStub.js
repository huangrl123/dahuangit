Ext.define("Ext.app.bind.AbstractStub",{extend:"Ext.util.Schedulable",requires:["Ext.app.bind.Binding"],children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(C,B){var A=this;A.owner=C;A.name=B;A.callParent()},destroy:function(){var C=this,F=C.children,D=C.bindings,E,B,A;if(D){for(B=0,E=D.length;B<E;++B){D[B].destroy(true)}}for(A in F){F[A].destroy()}C.callParent();C.bindings=C.children=C.owner=null},add:function(A){var B=this;(B.children||(B.children={}))[A.name]=A;A.depth=B.depth+1;A.parent=B},getChild:function(B){var A=Ext.isString(B)?B.split("."):B;if(A&&A.length){return this.descend(A,0)}return this},getFullName:function(){var B=this,C=B.fullName,D=B.parent,A;if(!C){C=B.name||B.id;if(D&&(A=D.getFullName())){C=((A.charAt(A.length-1)!==":")?A+".":A)+C}B.fullName=C}return C},getSession:function(){var A=this.owner;return A.isSession?A:A.getSession()},bind:function(A,F,D){var B=this,C=new Ext.app.bind.Binding(B,A,F,D),E=(B.bindings||(B.bindings=[]));C.depth=B.depth;E.push(C);return C},getValue:function(){return this.isLoading()?null:this.getRawValue()},graft:function(E){var B=this,C=B.bindings,D=B.name,A;B.parent=B.bindings=null;B.destroy();E.depth=B.depth;E.bindings=C;E.generation=B.generation+1;E.name=D;E.id=B.id;E.path=B.path;if(C){for(A=C.length;A-->0;){C[A].stub=E}}return E},isDescendantOf:function(A){for(var B=this;B=B.parent;){if(B===A){return true}}return false},onSchedule:function(){for(var A,E,B,C,D=this.parent;D;D=D.parent){C=D.bindings;if(C){for(A=0,E=C.length;A<E;++A){B=C[A];if(B.deep&&!B.scheduled){B.schedule()}}}}},react:function(){var C=this.bindings,B,A,D;if(C){for(A=0,D=C.length;A<D;++A){B=C[A];if(!B.scheduled){B.schedule()}}}},unbind:function(A){var B=this.bindings;if(B&&B.length){Ext.Array.remove(B,A)}},collect:function(){var F=this.children,E=this.bindings,A=0,C=0,D,B;if(F){for(B in F){D=F[B];C=D.collect();if(C===0){D.destroy();delete F[B]}A+=C}}if(E){A+=E.length}return A},privates:{getScheduler:function(){var A=this.owner;return A&&A.getScheduler()},sort:function(){var A=this.parent;if(A){this.scheduler.sortItem(A)}}}});
Ext.define("Ext.Template",{requires:["Ext.util.Format"],inheritableStatics:{from:function(A,B){A=Ext.getDom(A);return new this(A.value||A.innerHTML,B||"")}},useEval:Ext.isGecko,constructor:function(A){var E=this,G=arguments,D=[],B,C=G.length,F;E.initialConfig={};if(C===1&&Ext.isArray(A)){G=A;C=G.length}if(C>1){for(B=0;B<C;B++){F=G[B];if(typeof F=="object"){Ext.apply(E.initialConfig,F);Ext.apply(E,F)}else{D.push(F)}}}else{D.push(A)}E.html=D.join("")},isTemplate:true,disableFormats:false,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(B){var A=this;if(A.compiled){if(!A.fn){A.compile()}return A.fn(B).join("")}return A.evaluate(B)},evaluate:function(D){var C=this,F=!C.disableFormats,A=Ext.util.Format,B=C;function E(G,J,I,H,K){if(I==null||I==""){I=J}if(H&&F){if(K){K=[D[I]].concat(Ext.functionFactory("return ["+K+"];")())}else{K=[D[I]]}if(H.substr(0,5)==="this."){return B[H.substr(5)].apply(B,K)}else{if(A[H]){return A[H].apply(A,K)}else{return G}}}else{return D[I]!==undefined?D[I]:""}}return C.html.replace(C.tokenRe,E)},applyOut:function(C,B){var A=this;if(A.compiled){if(!A.fn){A.compile()}B.push.apply(B,A.fn(C))}else{B.push(A.apply(C))}return B},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(A,B){var C=this;C.html=A;C.compiled=!!B;C.fn=null;return C},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var B=this,A;A=B.html.replace(B.compileARe,"\\\\").replace(B.compileBRe,"\\n").replace(B.compileCRe,"\\'").replace(B.tokenRe,B.regexReplaceFn.bind(B));A=(this.disableFormats!==true?"var fm=Ext.util.Format;":"")+(B.useEval?"$=":"return")+" function(v){return ['"+A+"'];};";B.fn=B.useEval?B.evalCompiled(A):(new Function("Ext",A))(Ext);B.compiled=true;return B},evalCompiled:function($){eval($);return $},regexReplaceFn:function(A,D,C,B,E){if(D==null||D==""){D='"'+C+'"'}else{if(this.stringFormat){D=parseInt(D)+1}}if(B&&this.disableFormats!==true){E=E?","+E:"";if(B.substr(0,5)==="this."){B=B+"("}else{if(Ext.util.Format[B]){B="fm."+B+"("}else{return A}}return"',"+B+"v["+D+"]"+E+"),'"}else{return"',v["+D+"] == undefined ? '' : v["+D+"],'"}},insertFirst:function(A,C,B){return this.doInsert("afterBegin",A,C,B)},insertBefore:function(A,C,B){return this.doInsert("beforeBegin",A,C,B)},insertAfter:function(A,C,B){return this.doInsert("afterEnd",A,C,B)},append:function(A,C,B){return this.doInsert("beforeEnd",A,C,B)},doInsert:function(C,A,D,B){var E=Ext.DomHelper.insertHtml(C,Ext.getDom(A),this.apply(D));return B?Ext.get(E):E},overwrite:function(A,C,B){var D=Ext.DomHelper.overwrite(Ext.getDom(A),this.apply(C));return B?Ext.get(D):D}});
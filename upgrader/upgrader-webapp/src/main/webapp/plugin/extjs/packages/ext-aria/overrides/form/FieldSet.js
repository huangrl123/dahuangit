Ext.define("Ext.aria.form.FieldSet",{override:"Ext.form.FieldSet",requires:["Ext.aria.container.Container"],expandText:"Expand",collapseText:"Collapse",onBoxReady:function(){var D=this,B=D.checkboxCmp,C=D.toggleCmp,E=D.legend,A;D.callParent(arguments);if(!E){return}E.collapseImmune=true;E.getInherited().collapseImmune=true;if(B){B.collapseImmune=true;B.getInherited().collapseImmune=true;B.getActionEl().set({title:D.expandText+" "+D.title})}if(C){C.collapseImmune=true;C.getInherited().collapseImmune=true;C.keyMap=new Ext.util.KeyMap({target:C.el,key:[Ext.event.Event.ENTER,Ext.event.Event.SPACE],handler:function(F,G,H){G.stopEvent();D.toggle()},scope:D});A=C.getActionEl();if(D.collapsed){A.set({title:D.expandText+" "+D.title})}else{A.set({title:D.collapseText+" "+D.title})}}},ariaGetRenderAttributes:function(){var B=this,A;A=B.callParent(arguments);A["aria-expanded"]=!B.collapsed;return A},setExpanded:function(D){var C=this,B=C.toggleCmp,A;C.callParent(arguments);C.ariaUpdate({"aria-expanded":D});if(B){A=B.getActionEl();if(!D){A.set({title:C.expandText+" "+C.title})}else{A.set({title:C.collapseText+" "+C.title})}}}});
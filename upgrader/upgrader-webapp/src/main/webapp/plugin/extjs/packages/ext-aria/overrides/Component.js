Ext.define("Ext.aria.Component",{override:"Ext.Component",requires:["Ext.aria.FocusManager"],ariaRenderAttributesToElement:true,ariaFocusCls:Ext.baseCSSPrefix+"aria-focus",ariaItemFocusCls:Ext.baseCSSPrefix+"aria-item-focus",statics:{ariaHighContrastModeCls:Ext.baseCSSPrefix+"aria-highcontrast",ariaFocusFrameWidth:undefined},ariaApplyAfterRenderAttributes:function(){var B=this,A=B.ariaRole,C;if(A!=="presentation"){C=B.ariaGetAfterRenderAttributes();B.ariaUpdate(C)}},ariaGetRenderAttributes:function(){var B=this,A=B.ariaRole,C={role:A};if(A==="presentation"||A===undefined){return C}if(B.hidden){C["aria-hidden"]=true}if(B.disabled){C["aria-disabled"]=true}if(B.ariaLabel){C["aria-label"]=B.ariaLabel}Ext.apply(C,B.ariaAttributes);return C},ariaGetAfterRenderAttributes:function(){var C=this,B={},A;if(!C.ariaLabel&&C.ariaLabelledBy){A=C.ariaGetLabelEl(C.ariaLabelledBy);if(A){B["aria-labelledby"]=A.id}}if(C.ariaDescribedBy){A=C.ariaGetLabelEl(C.ariaDescribedBy);if(A){B["aria-describedby"]=A.id}}return B},ariaUpdate:function(A,B){if(arguments.length===1){B=A;A=this.ariaGetEl()}if(!A){return}A.set(B)},ariaGetEl:function(){return this.el},ariaGetLabelEl:function(C){var B=this,A=null;if(C){if(/^#/.test(C)){C=C.replace(/^#/,"");A=Ext.get(C)}else{A=B.ariaGetEl().down(C)}}return A},ariaGetFocusEl:function(){var A=this.getFocusEl();while(A.isComponent){A=A.getFocusEl()}return A},ariaGetFocusCls:Ext.emptyFn,ariaAddFocusCls:function(A){var B=this.ariaGetFocusEl();B.addCls(A)},ariaRemoveFocusCls:function(A){var B=this.ariaGetFocusEl();B.removeCls(A)},ariaGetFocusableSection:function(){return this.up("{ariaIsSection()}")},ariaGetFocusFallback:function(){return this.ariaGetFocusableSection()},ariaIsSection:function(){return false},ariaNextSibling:function(B,I){var G=this,D=G.ownerCt&&G.ownerCt.items,F,C,H,A,E;if(D){C=D.indexOf(G);if(C<0){return null}A=D.getCount();if(I){for(E=C;;){if((E+=1)>=A){E=0}else{if(E<0){E=A-1}}if(E===C){return null}H=D.getAt(E);if(B&&H.is(B)){return H}else{if(!B){return H}}}}else{if(B){for(F=D.getCount();C<F;C++){H=D.getAt(C);if(H.is(B)){return H}}}else{if(C<A){return D.getAt(C)}}}}return null},ariaPreviousSibling:function(B,H){var F=this,D=F.ownerCt&&F.ownerCt.items,C,G,A,E;if(D){C=D.indexOf(F);if(C<0){return null}A=D.getCount();if(H){for(E=C;;){if((E-=1)>=A){E=0}else{if(E<0){E=A-1}}if(E===C){return null}G=D.getAt(E);if(B&&G.is(B)){return G}else{if(!B){return G}}}}else{if(B){for(--C;C>=0;C--){if((G=D.getAt(C)).is(B)){return G}}}else{if(C){return D.getAt(--C)}}}}return null},ariaPreviousNode:function(){var D=this,G,C,A,E,B,F;G=D.up("{ariaIsSection()}");if(!G){return null}A=G.ariaGetFocusItems(true);E=A.length;if(!E){return null}F=Ext.Array.indexOf(A,D);for(B=F-1;;B--){if(B===E){B=0}else{if(B<0){B=E-1}}if(B===F){return null}C=A[B];if(C&&C.isFocusable()){return C}}return null},ariaNextNode:function(){var D=this,G,C,A,E,B,F;G=D.up("{ariaIsSection()}");if(!G){return null}A=G.ariaGetFocusItems(false);E=A.length;if(!E){return null}F=Ext.Array.indexOf(A,D);for(B=F+1;;B++){if(B===E){B=0}else{if(B<0){B=E-1}}if(B===F){return null}C=A[B];if(C&&C.isFocusable()){return C}}return null},afterHide:function(){var B=this,A=Ext.aria.FocusManager;if(A.enabled){A.onComponentHide(B)}this.callParent(arguments)},onFocus:function(A,B,G){var F=this,D=Ext.aria.FocusManager,H,E,C;F.callParent(arguments);H=F.ariaGetFocusCls();if(H){F.ariaAddFocusCls(H)}if(F.isGroupedBy){F.isGroupedBy.lastFocus=F}if(F.tooltip&&Ext.quickTipsActive){E=Ext.tip.QuickTipManager.getQuickTip();C=F.ariaGetEl();E.cancelShow(C);E.showByTarget(C)}if(F.hasFocus&&D.enabled){return D.onComponentFocus(F)}},onBlur:function(C,F,D){var E=this,A=Ext.aria.FocusManager,B;E.callParent(arguments);B=E.ariaGetFocusCls();if(B){E.ariaRemoveFocusCls(B)}if(E.tooltip&&Ext.quickTipsActive){Ext.tip.QuickTipManager.getQuickTip().cancelShow(E.ariaGetEl())}if(!E.hasFocus&&A.enabled){return A.onComponentBlur(E)}},onDestroy:function(){var B=this,A=Ext.aria.FocusManager;B.callParent(arguments);if(A.enabled){A.onComponentDestroy(B)}},onDisable:function(){var A=this;A.callParent(arguments);A.ariaUpdate({"aria-disabled":true})},onEnable:function(){var A=this;A.callParent(arguments);A.ariaUpdate({"aria-disabled":false})},onHide:function(){var A=this;A.callParent(arguments);A.ariaUpdate({"aria-hidden":true})},onShow:function(){var A=this;A.callParent(arguments);A.ariaUpdate({"aria-hidden":false})}},function(){function A(){var B="http://www.html5accessibility.com/tests/clear.gif",D={},I=document.createElement("div"),E=Ext.get(I),H=I.style,C=document.createElement("img"),D={images:true,backgroundImages:true,borderColors:true,highContrastMode:false,lightOnDark:false};I.id="ui-helper-high-contrast";I.className="ui-helper-hidden-accessible";H.borderWidth="1px";H.borderStyle="solid";H.borderTopColor="#F00";H.borderRightColor="#FF0";H.backgroundColor="#FFF";H.width="2px";C.alt="";I.appendChild(C);document.body.appendChild(I);H.backgroundImage="url("+B+")";C.src=B;var F=function(N){var M=[],L=0,K;if(N.indexOf("rgb(")!==-1){M=N.replace("rgb(","").replace(")","").split(", ")}else{if(N.indexOf("#")!==-1){K=N.match(N.length===7?/^#(\S\S)(\S\S)(\S\S)$/:/^#(\S)(\S)(\S)$/);if(K){M=["0x"+K[1],"0x"+K[2],"0x"+K[3]]}}}for(var J=0;J<M.length;J++){L+=parseInt(M[J])}return L};var G=function(L){var K=E.getStyle("backgroundImage"),J=Ext.getBody();D.images=C.offsetWidth===1;D.backgroundImages=!(K!==null&&(K==="none"||K==="url(invalid-url:)"));D.borderColors=!(E.getStyle("borderTopColor")===E.getStyle("borderRightColor"));D.highContrastMode=!D.images||!D.backgroundImages;D.lightOnDark=F(E.getStyle("color"))-F(E.getStyle("backgroundColor"))>0;if(Ext.isIE){I.outerHTML=""}else{document.body.removeChild(I)}};G();return D}Ext.enableAria=true;Ext.FocusManager=Ext.aria.FocusManager;Ext.onReady(function(){var B=Ext.supports,C,D;D=Ext.getBody().appendChild({cls:Ext.baseCSSPrefix+"aria-focus-frame-detector"});if(D){Ext.Component.ariaFocusFrameWidth=D.getWidth();D.destroy()}C=Ext.isWindows?A():{};B.HighContrastMode=!!C.highContrastMode;if(B.HighContrastMode){Ext.getBody().addCls(Ext.Component.ariaHighContrastModeCls)}})});
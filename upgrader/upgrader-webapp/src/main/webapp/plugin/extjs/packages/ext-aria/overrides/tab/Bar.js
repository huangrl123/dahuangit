Ext.define("Ext.aria.tab.Bar",{override:"Ext.tab.Bar",requires:["Ext.aria.tab.Tab"],untitledText:"Tab Panel",ariaGetRenderAttributes:function(){var B=this,C=B.ownerCt,A;A=B.callParent();if(!C){A["aria-label"]=B.untitledText}A["aria-live"]="polite";A["aria-relevant"]="all";return A},ariaGetAfterRenderAttributes:function(){var C=this,D=C.ownerCt,E=C.activeTab,B,A;B=C.callParent();A=D&&D.ariaGetTitleTextEl();if(A){B["aria-labelledby"]=A.id}if(E&&E.rendered){B["aria-activedescendant"]=E.getEl().id}return B},onAdd:function(A){var B=this;if(A.isTab){A.isGroupedBy=B;A.on("focus",B.ariaOnTabFocus,B)}B.callParent(arguments)},setActiveTab:function(B){var D=this,A,E,F,C,G;D.callParent(arguments);F=D.getRefItems();E=F.length;for(A=0;A<E;A++){C=F[A];C.ariaUpdate({"aria-selected":!!C.active})}G=D.activeTab;if(G&&G.rendered){D.ariaUpdate({"aria-activedescendant":G.getEl().id})}if(B.card.rendered){B.ariaUpdate({"aria-controls":B.card.getEl().id})}},findNextActivatable:function(C){var B=this,A;A=B.callParent(arguments);if(!A){A=B.activeTab}return A},ariaGetFocusItems:function(){var C=this,A,D,B;D=C.getRefItems();for(A=0;A<D.length;A++){B=D[A];if(B.hasFocus){return[B]}}for(A=0;A<D.length;A++){B=D[A];if(B.active&&B.isFocusable()){return[B]}}return[]},ariaOnTabFocus:function(A){this.ariaUpdate({"aria-activedescendant":A.el.id})}});
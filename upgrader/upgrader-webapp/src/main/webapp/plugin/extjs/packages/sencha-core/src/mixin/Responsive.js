Ext.define("Ext.mixin.Responsive",function(A){return{extend:"Ext.Mixin",mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:0,merge:function(G,C,F,D){if(!G){return C}var E=C?Ext.Object.chain(C):{},B;for(B in G){if(!D||!(B in E)){E[B]={config:G[B]}}}return E}}},destroy:function(){A.unregister(this);this.callParent()},privates:{statics:{active:false,all:{},count:0,nextId:0,argNames:"landscape,portrait,tall,wide,height,width,platform",state:{platform:{desktop:true}},stateArgs:[],activate:function(){A.active=true;A.updateState();Ext.on("resize",A.onResize,A)},deactivate:function(){A.active=false;Ext.un("resize",A.onResize,A)},notify:function(){var B=A.all,C=A.timer,D;if(C){A.timer=null;Ext.Function.cancelAnimationFrame(C)}A.updateState();Ext.suspendLayouts();for(D in B){B[D].updateResponsiveState()}Ext.resumeLayouts(true)},onResize:function(){if(!A.timer){A.timer=Ext.Function.requestAnimationFrame(A.onTimer)}},onTimer:function(){A.timer=null;A.notify()},register:function(B){var C=B.$responsiveId;if(!C){B.$responsiveId=C=++A.nextId;A.all[C]=B;if(++A.count===1){A.activate()}}},unregister:function(B){var C=B.$responsiveId;if(C in A.all){B.$responsiveId=null;delete A.all[C];if(--A.count===0){A.deactivate()}}},updateState:function(){var H=A.argNamesArray,B=Ext.Element,F=B.getViewportWidth(),D=B.getViewportHeight(),E=A.state,G=A.stateArgs,C;if(!H){A.argNamesArray=H=A.argNames.split(",")}E.width=F;E.height=D;E.tall=F<D;E.wide=!E.tall;E.landscape=E.portrait=false;if(!E.platform.desktop||Ext.supports.OrientationChange){E[Ext.dom.Element.getOrientation()]=true}else{E.landscape=true}for(C=H.length;C--;){G[C]=E[H[C]]}}},afterClassMixedIn:function(B){var D=B.prototype,C=D.responsiveConfig;if(C){delete D.responsiveConfig;B.getConfigurator().add({responsiveConfig:C})}},applyResponsiveConfig:function(B){return B},getResponsiveState:function(){var C=this.getResponsiveConfig(),F=A.stateArgs,E={},D,B;for(B in C){D=C[B];if(!D.fn){D.fn=new Function(A.argNames,"return "+B)}if(D.fn.apply(this,F)){Ext.merge(E,D.config)}}return E},transformInstanceConfig:function(C){var D=this,B=C&&C.responsiveConfig,F,E;A.register(D);if(B){F=D.getConfigurator();F=F.configs.responsiveConfig;D.config.responsiveConfig=F.merge(B,D.config.responsiveConfig,D)}E=D.getResponsiveState();if(C){E=Ext.merge({},C,E);delete E.responsiveConfig}return E},updateResponsiveState:function(){var B=this.getResponsiveState();this.setConfig(B)}}}});
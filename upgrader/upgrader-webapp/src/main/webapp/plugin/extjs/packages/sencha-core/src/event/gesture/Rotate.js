Ext.define("Ext.event.gesture.Rotate",{extend:"Ext.event.gesture.MultiTouch",handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(A){if(!this.isTracking){return}var F=A.touches,C=this.lastAngle,I,D,G,B,H,E;I=F[0].point;D=F[1].point;G=I.getAngleTo(D);if(C!==null){E=Math.abs(C-G);B=G+360;H=G-360;if(Math.abs(B-C)<E){G=B}else{if(Math.abs(H-C)<E){G=H}}}this.lastAngle=G;if(!this.isStarted){this.isStarted=true;this.startAngle=G;this.fire("rotatestart",A,{touches:F,angle:G,rotation:0})}else{this.fire("rotate",A,{touches:F,angle:G,rotation:G-this.startAngle})}this.lastTouches=Ext.Array.clone(F)},fireEnd:function(A){this.lastAngle=null;this.fire("rotateend",A)},fireCancel:function(A){this.lastAngle=null;this.fire("rotatecancel",A)}});
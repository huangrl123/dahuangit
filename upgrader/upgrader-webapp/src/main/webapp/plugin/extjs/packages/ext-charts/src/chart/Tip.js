Ext.define("Ext.chart.Tip",{requires:["Ext.tip.ToolTip","Ext.chart.TipSurface"],constructor:function(C){var D=this,E,A,B;if(C.tips){D.tipTimeout=null;D.tipConfig=Ext.apply({},C.tips,{renderer:Ext.emptyFn,constrainPosition:true,autoHide:true,shrinkWrapDock:true});D.tooltip=new Ext.tip.ToolTip(D.tipConfig);D.chart.surface.on("mousemove",D.tooltip.onMouseMove,D.tooltip);D.chart.surface.on("mouseleave",function(){D.hideTip()});if(D.tipConfig.surface){E=D.tipConfig.surface;A=E.sprites;B=new Ext.chart.TipSurface({id:"tipSurfaceComponent",sprites:A});if(E.width&&E.height){B.setSize(E.width,E.height)}D.tooltip.add(B);D.spriteTip=B}}},showTip:function(L){var H=this,A,F,C,D,B,E,I,G,K,J;if(!H.tooltip){return}clearTimeout(H.tipTimeout);A=H.tooltip;F=H.spriteTip;C=H.tipConfig;D=A.trackMouse;if(!D){A.trackMouse=true;B=L.sprite;E=B.surface;I=Ext.get(E.getId());if(I){G=I.getXY();K=G[0]+(B.attr.x||0)+(B.attr.translation&&B.attr.translation.x||0);J=G[1]+(B.attr.y||0)+(B.attr.translation&&B.attr.translation.y||0);A.targetXY=[K,J]}}if(F){C.renderer.call(A,L.storeItem,L,F.surface)}else{C.renderer.call(A,L.storeItem,L)}A.delayShow(D);A.trackMouse=D},hideTip:function(A){var B=this.tooltip;if(!B){return}clearTimeout(this.tipTimeout);this.tipTimeout=setTimeout(function(){B.delayHide()},0)}});
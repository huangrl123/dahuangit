Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:"Ext.Component",requires:["Ext.draw.Surface","Ext.draw.layout.Component"],enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:true,shrinkWrap:3,autoSize:false,suspendSizing:0,onRender:function(){this.callParent(arguments);if(this.createSurface()!==false){this.configureSurfaceSize()}},configureSurfaceSize:function(){var A=this,D=A.viewBox,C=A.autoSize,B;if((D||C)&&!A.suspendSizing){B=A.surface.items.getBBox();if(D){A.surface.setViewBox(B.x,B.y,B.width,B.height)}else{A.autoSizeSurface(B)}}},autoSizeSurface:function(A){A=A||this.surface.items.getBBox();this.setSurfaceSize(A.width,A.height)},setSurfaceSize:function(B,A){this.surface.setSize(B,A);if(this.autoSize){var C=this.surface.items.getBBox();this.surface.setViewBox(C.x,C.y-(+Ext.isOpera),B,A)}},createSurface:function(){var B=this,C=Ext.applyIf({renderTo:B.el,height:B.height,width:B.width,items:B.items},B.initialConfig),D;delete C.listeners;if(!C.gradients){C.gradients=B.gradients}B.initSurfaceCfg(C);D=Ext.draw.Surface.create(C,B.enginePriority);if(!D){return false}B.surface=D;D.owner=B;function A(E){return function(F){B.fireEvent(E,F)}}D.on({scope:B,mouseup:A("mouseup"),mousedown:A("mousedown"),mousemove:A("mousemove"),mouseenter:A("mouseenter"),mouseleave:A("mouseleave"),click:A("click"),dblclick:A("dblclick")})},initSurfaceCfg:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.surface);this.callParent(arguments)}});
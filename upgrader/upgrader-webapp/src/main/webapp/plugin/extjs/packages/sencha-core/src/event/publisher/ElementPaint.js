Ext.define("Ext.event.publisher.ElementPaint",{extend:"Ext.event.publisher.Publisher",requires:["Ext.util.PaintMonitor","Ext.TaskQueue"],targetType:"element",handledEvents:["painted"],constructor:function(){this.monitors={};this.callSuper(arguments)},subscribe:function(C){var B=C.match(this.idSelectorRegex),A=this.subscribers,E,D;if(!B){return false}E=B[1];if(A.hasOwnProperty(E)){A[E]++;return true}A[E]=1;D=Ext.get(E);this.monitors[E]=new Ext.util.PaintMonitor({element:D,callback:this.onElementPainted,scope:this,args:[C,D]});return true},unsubscribe:function(E,D,A){var C=E.match(this.idSelectorRegex),B=this.subscribers,F;if(!C){return false}F=C[1];if(!B.hasOwnProperty(F)||(!A&&--B[F]>0)){return true}delete B[F];this.monitors[F].destroy();delete this.monitors[F];return true},onElementPainted:function(B,A){Ext.TaskQueue.requestRead("dispatch",this,[B,"painted",[A]])}});
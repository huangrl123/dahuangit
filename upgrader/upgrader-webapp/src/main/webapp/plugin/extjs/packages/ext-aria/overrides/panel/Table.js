Ext.define("Ext.aria.panel.Table",{override:"Ext.panel.Table",requires:["Ext.aria.panel.Panel"],initComponent:function(){var A=this,B,C;A.callParent(arguments);B=A.headerCt;B.selectedCellCls=A.view.selectedCellCls;B.onKeyDown=Ext.Function.createInterceptor(B.onKeyDown,A.transferSelectionToView,A);C=A.getSelectionModel();C.onKeyUp=Ext.Function.createInterceptor(C.onKeyUp,A.transferSelectionToHeader,A)},transferSelectionToHeader:function(B,E){var D=this,F=D.view,G=D.selModel,C=G.isCellModel,A;A=G.getCurrentPosition();if(A&&F.indexOf(G.lastFocused)===0&&!D.hideHeaders){F.headerFocused=true;if(C){G.setCurrentPosition(null)}else{G.deselectAll()}D.headerCt.selectByPosition({row:-1,column:C?A.column:0,cHeader:A.columnHeader});return false}return true},transferSelectionToView:function(){var B=this,E=B.view,C=B.headerCt,F=B.selModel,A=F.isCellModel,D;D=B.headerCt.getCurrentPosition();if(D){if(E.getNodes().length>0){C.setCurrentPosition(null);E.headerFocused=false;E.focus();B.selModel.selectByPosition({row:0,column:A?D.column:0});return false}}return true},ariaGetFocusItems:function(){var B=this,C=B.headerCt,A,D;A=B.callParent(arguments);if(C&&!C.hasFocus){D=Ext.Array.indexOf(A,B.headerCt);if(D>-1){A.splice(D,1)}}return A}});
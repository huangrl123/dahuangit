Ext.define("Ext.direct.Manager",{singleton:true,requires:["Ext.util.MixedCollection"],mixins:{observable:"Ext.util.Observable"},exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},constructor:function(){var A=this;A.transactions=new Ext.util.MixedCollection();A.providers=new Ext.util.MixedCollection();A.mixins.observable.constructor.call(A)},addProvider:function(B){var C=this,F=arguments,E=C.relayers||(C.relayers={}),A,D;if(F.length>1){for(A=0,D=F.length;A<D;++A){C.addProvider(F[A])}return}if(!B.isProvider){B=Ext.create("direct."+B.type+"provider",B)}C.providers.add(B);B.on("data",C.onProviderData,C);if(B.relayedEvents){E[B.id]=C.relayEvents(B,B.relayedEvents)}if(!B.isConnected()){B.connect()}return B},getProvider:function(A){return A.isProvider?A:this.providers.get(A)},removeProvider:function(B){var C=this,A=C.providers,D=C.relayers,E;B=B.isProvider?B:A.get(B);if(B){B.un("data",C.onProviderData,C);E=B.id;if(D[E]){D[E].destroy();delete D[E]}A.remove(B);return B}return null},addTransaction:function(A){this.transactions.add(A);return A},removeTransaction:function(B){var A=this;B=A.getTransaction(B);A.transactions.remove(B);return B},getTransaction:function(A){return typeof A==="object"?A:this.transactions.get(A)},onProviderData:function(B,D){var C=this,A,E;if(Ext.isArray(D)){for(A=0,E=D.length;A<E;++A){C.onProviderData(B,D[A])}return}if(D.name&&D.name!="event"&&D.name!="exception"){C.fireEvent(D.name,D)}else{if(D.status===false){C.fireEvent("exception",D)}}C.fireEvent("event",D,B)},parseMethod:function(D){if(Ext.isString(D)){var A=D.split("."),B=0,E=A.length,C=Ext.global;while(C&&B<E){C=C[A[B]];++B}D=Ext.isFunction(C)?C:null}return D||null}},function(){Ext.Direct=Ext.direct.Manager});
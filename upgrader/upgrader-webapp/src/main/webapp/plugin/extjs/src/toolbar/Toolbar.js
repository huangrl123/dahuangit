Ext.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.toolbar.Fill","Ext.layout.container.HBox","Ext.layout.container.VBox"],uses:["Ext.toolbar.Separator"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:true,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",layout:undefined,vertical:false,enableOverflow:false,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:true,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var A=this,B=A.layout;if(A.dock==="right"||A.dock==="left"){A.vertical=true}A.layout=B=Ext.applyIf(Ext.isString(B)?{type:B}:B||{},{type:A.vertical?"vbox":"hbox",align:A.vertical?"stretchmax":"middle"});if(A.overflowHandler){B.overflowHandler=A.overflowHandler}else{if(A.enableOverflow){B.overflowHandler="menu"}}if(A.vertical){A.addClsWithUI("vertical")}if(A.ui==="footer"){A.ignoreBorderManagement=true}A.callParent()},getRefItems:function(B){var C=this,D=C.callParent(arguments),E=C.layout,A;if(B&&(C.enableOverflow||(C.overflowHandler==="menu"))){A=E.overflowHandler;if(A&&A.menu){D=D.concat(A.menu.getRefItems(B))}}return D},lookupComponent:function(B){var D=arguments;if(typeof B==="string"){var C=Ext.toolbar.Toolbar,A=C.shortcutsHV[this.vertical?1:0][B]||C.shortcuts[B];if(typeof A==="string"){B={xtype:A}}else{if(A){B=Ext.apply({},A)}else{B={xtype:"tbtext",text:B}}}this.applyDefaults(B);D=[B]}return this.callParent(D)},onBeforeAdd:function(D){var A=this,B=A.ui==="footer",C=B?A.defaultFooterButtonUI:A.defaultButtonUI;if(D.isSegmentedButton){if(D.getDefaultUI()==="default"&&!D.config.hasOwnProperty("defaultUI")){D.setDefaultUI(C)}}else{if(D.ui==="default"&&!D.hasOwnProperty("ui")){if(D.isButton){D.ui=C}else{if(D.isFormField){D.ui=B?A.defaultFooterFieldUI:A.defaultFieldUI}}}}if(D instanceof Ext.toolbar.Separator){D.setUI((A.vertical)?"vertical":"horizontal")}A.callParent(arguments)},onAdd:function(A){this.callParent(arguments);this.trackMenu(A)},onRemove:function(A){this.callParent(arguments);this.trackMenu(A,true)},privates:{applyDefaults:function(A){if(!Ext.isString(A)){A=this.callParent(arguments)}return A},trackMenu:function(C,A){if(this.trackMenus&&C.menu){var D=A?"mun":"mon",B=this;B[D](C,"mouseover",B.onButtonOver,B);B[D](C,"menushow",B.onButtonMenuShow,B);B[D](C,"menuhide",B.onButtonMenuHide,B)}},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(A){if(this.activeMenuBtn&&this.activeMenuBtn!==A){this.activeMenuBtn.hideMenu();A.showMenu();this.activeMenuBtn=A}},onButtonMenuShow:function(A){this.activeMenuBtn=A},onButtonMenuHide:function(A){delete this.activeMenuBtn}}});
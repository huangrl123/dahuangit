Ext.define("Ext.form.FieldContainer",{extend:"Ext.container.Container",mixins:{labelable:"Ext.form.Labelable",fieldAncestor:"Ext.form.FieldAncestor"},requires:"Ext.layout.component.field.FieldContainer",alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",shrinkWrap:true,customOverflowEl:"containerEl",childEls:["containerEl"],combineLabels:false,labelConnector:", ",combineErrors:false,maskOnDisable:false,invalidCls:"",fieldSubTpl:['<div id="{id}-containerEl" data-ref="containerEl" class="{containerElCls}" role="presentation">',"{%this.renderContainer(out,values)%}","</div>"],initComponent:function(){var A=this;A.initLabelable();A.initFieldAncestor();A.callParent();A.initMonitor()},onAdd:function(B){var A=this;if(B.isLabelable&&Ext.isGecko&&A.layout.type==="absolute"&&!A.hideLabel&&A.labelAlign!=="top"){B.x+=(A.labelWidth+A.labelPad)}A.callParent(arguments);if(B.isLabelable&&A.combineLabels){B.oldHideLabel=B.hideLabel;B.hideLabel=true}A.updateLabel()},onRemove:function(B,C){var A=this;A.callParent(arguments);if(!C){if(B.isLabelable&&A.combineLabels){B.hideLabel=B.oldHideLabel}A.updateLabel()}},initRenderData:function(){var A=this,B=A.callParent();B.containerElCls=A.containerElCls;return Ext.applyIf(B,A.getLabelableRenderData())},getFieldLabel:function(){var A=this.fieldLabel||"";if(!A&&this.combineLabels){A=Ext.Array.map(this.query("[isFieldLabelable]"),function(B){return B.getFieldLabel()}).join(this.labelConnector)}return A},getSubTplData:function(){var A=this.initRenderData();Ext.apply(A,this.subTplData);return A},getSubTplMarkup:function(){var C=this,B=C.getTpl("fieldSubTpl"),A;if(!B.renderContent){C.setupRenderTpl(B)}A=B.apply(C.getSubTplData());return A},updateLabel:function(){var B=this,A=B.labelEl;if(A){B.setFieldLabel(B.getFieldLabel())}},onFieldErrorChange:function(){if(this.combineErrors){var C=this,D=C.getActiveError(),A=Ext.Array.filter(C.query("[isFormField]"),function(E){return E.hasActiveError()}),B=C.getCombinedErrors(A);if(B){C.setActiveErrors(B)}else{C.unsetActiveError()}if(D!==C.getActiveError()){C.updateLayout()}}},getCombinedErrors:function(J){var G=[],I,E=J.length,F,A,H,B,C,D;for(I=0;I<E;I++){F=J[I];A=F.getActiveErrors();B=A.length;for(H=0;H<B;H++){C=A[H];D=F.getFieldLabel();G.push((D?D+": ":"")+C)}}return G},privates:{applyTargetCls:function(A){var B=this.containerElCls;this.containerElCls=B?B+" "+A:A},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){var A=this;if(!A.hasOwnProperty("renderTpl")){A.renderTpl=A.getTpl("labelableRenderTpl")}return A.callParent()}}});
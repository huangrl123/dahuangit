Ext.define("Ext.grid.filters.filter.Base",{mixins:["Ext.mixin.Factoryable"],factoryConfig:{type:"grid.filter"},$configPrefixed:false,$configStrict:false,config:{itemDefaults:null,menuDefaults:{xtype:"menu"}},active:false,type:"string",dataIndex:null,menu:null,updateBuffer:500,isGridFilter:true,defaultRoot:"data",filterIdPrefix:"x-gridfilter",constructor:function(A){var B=this;B.initConfig(A);B.store=B.grid.store},destroy:function(){if(this.menu){this.menu.destroy()}},addStoreFilter:function(A){this.store.getFilters().add(A)},createFilter:function(B,A){B.id=this.getBaseIdPrefix();if(!B.property){B.property=this.column.dataIndex}if(!B.root){B.root=this.defaultRoot}if(A){B.id+="-"+A}return new Ext.util.Filter(B)},createMenu:function(){var A=this.getMenuConfig();this.menu=Ext.widget(A)},getBaseIdPrefix:function(){return this.filterIdPrefix+"-"+this.column.dataIndex},getMenuConfig:function(){return Ext.apply({},this.getMenuDefaults())},getStoreFilter:function(A){var B=this.getBaseIdPrefix();if(A){B+="-"+A}return this.store.getFilters().get(B)},removeStoreFilter:function(A){this.store.getFilters().remove(A)},setActive:function(A){var B=this,D=B.owner,E=D.activeFilterMenuItem,C;if(B.active!==A){B.active=A;C=B.store.getFilters();C.beginUpdate();if(A){B.activate()}else{B.deactivate()}C.endUpdate();if(E&&E.activeFilter===B){E.setChecked(A)}B.column[A?"addCls":"removeCls"](D.filterCls)}},showMenu:function(A){if(!this.menu){this.createMenu()}A.activeFilter=this;A.setMenu(this.menu,false);A.setChecked(this.active);A.setDisabled(this.disabled===true);if(this.active){this.activate(true)}},updateStoreFilter:function(A){this.store.getFilters().notify("endupdate")}});
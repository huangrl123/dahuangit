Ext.define("Ext.dd.DDProxy",{extend:"Ext.dd.DD",statics:{dragElId:"ygddfdiv"},constructor:function(C,B,A){if(C){this.init(C,B,A);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var A=this,C=document.body,D,B;if(!C||!C.firstChild){setTimeout(function(){A.createFrame()},50);return}D=this.getDragEl();if(!D){D=document.createElement("div");D.id=this.dragElId;D.setAttribute("role","presentation");B=D.style;B.position="absolute";B.visibility="hidden";B.cursor="move";B.border="2px solid #aaa";B.zIndex=999;C.insertBefore(D,C.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(B,A){var C=this.getEl(),E=this.getDragEl(),D=E.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(D.width,10)/2),Math.round(parseInt(D.height,10)/2))}this.setDragElPos(B,A);Ext.fly(E).show()},_resizeProxy:function(){if(this.resizeFrame){var A=this.getEl();Ext.fly(this.getDragEl()).setSize(A.offsetWidth,A.offsetHeight)}},b4MouseDown:function(B){var A=B.getXY(),C=A[0],D=A[1];this.autoOffset(C,D);this.setDragElPos(C,D)},b4StartDrag:function(A,B){this.showFrame(A,B)},b4EndDrag:function(A){Ext.fly(this.getDragEl()).hide()},endDrag:function(A){var C=this.getEl(),B=this.getDragEl();B.style.visibility="";this.beforeMove();C.style.visibility="hidden";Ext.dd.DDM.moveToEl(C,B);B.style.visibility="hidden";C.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}});
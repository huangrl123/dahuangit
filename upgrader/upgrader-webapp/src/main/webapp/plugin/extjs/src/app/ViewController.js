Ext.define("Ext.app.ViewController",{extend:"Ext.app.BaseController",requires:["Ext.app.domain.View"],mixins:["Ext.mixin.Factoryable"],isViewController:true,factoryConfig:{type:"controller"},config:{closeViewAction:"destroy"},constructor:function(){this.compDomain=new Ext.app.domain.View(this);this.callParent(arguments)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var A=this,B=A.compDomain;if(B){B.unlisten(A);B.destroy()}A.compDomain=A.view=null;A.callParent()},closeView:function(){var B=this.getView(),A;if(B){A=this.getCloseViewAction();B[A]()}},control:function(B,C){var A=B;if(Ext.isString(B)){A={};A[B]=C}this.compDomain.listen(A,this)},listen:function(A,C){var B=A.component;if(B){A=Ext.apply({},A);delete A.component;this.control(B)}this.callParent([A,C])},getReferences:function(){return this.view.getReferences()},getView:function(){return this.view},lookupReferenceHolder:function(){var A=this.view;return A&&A.lookupReferenceHolder()},lookupReference:function(A){var B=this.view;return B&&B.lookupReference(A)},getSession:function(){var A=this.view;return A&&A.lookupSession()},getViewModel:function(){var A=this.view;return A&&A.lookupViewModel()},getStore:function(A){var B=this.getViewModel();return B?B.getStore(A):null},fireViewEvent:function(B){var C=this.view,A=false;if(C){A=C.fireEvent.apply(C,arguments)}return A},privates:{view:null,ensureId:function(){var A=this.getId();if(!A){this.setId(Ext.id(null,"controller-"))}},attachReference:function(A){var B=this.view;if(B){B.attachReference(A)}},clearReference:function(A){var B=this.view;if(B){B.clearReference(A)}},clearReferences:function(){var A=this.view;if(A){A.clearReferences()}},setView:function(A){this.view=A;if(!this.beforeInit.$nullFn){this.beforeInit()}}}});
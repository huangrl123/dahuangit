Ext.define("Ext.container.DockingContainer",{requires:["Ext.util.MixedCollection","Ext.Element"],isDockingContainer:true,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(F,D){var E=this,A=0,G,C,B;F=E.prepareItems(F);B=F.length;for(;A<B;A++){C=F[A];C.dock=C.dock||"top";if(C.dock==="left"||C.dock==="right"){E.horizontalDocks++}if(D!==undefined){A+=D;E.dockedItems.insert(A,C)}else{E.dockedItems.add(C)}G=!!C.instancedCmp;delete C.instancedCmp;C.onAdded(E,A,G);delete C.initOwnerCt;if(E.hasListeners.dockedadd){E.fireEvent("dockedadd",E,C,A)}if(E.onDockedAdd!==Ext.emptyFn){E.onDockedAdd(C)}}if(E.rendered&&!E.suspendLayout){E.updateLayout()}return F},destroyDockedItems:function(){var A=this.dockedItems,B;if(A){while((B=A.first())){this.removeDocked(B,true)}}},doRenderDockedItems:function(C,D,E){var A=D.$comp,G=A.componentLayout,B,F;if(G.getDockedItems&&!D.$skipDockedItems){B=G.getDockedItems("render",!E);F=B&&G.getItemsRenderTree(B);if(F){Ext.DomHelper.generateMarkup(F,C)}}},getDockedComponent:function(A){if(Ext.isObject(A)){A=A.getItemId()}return this.dockedItems.get(A)},getDockedItems:function(C,B){var A=this.getComponentLayout().getDockedItems("render",B);if(C&&A.length){A=Ext.ComponentQuery.query(C,A)}return A},getDockingRefItems:function(B,E){var D=B&&"*,* *",A=this.getDockedItems(D,true),C;A.push.apply(A,E);C=this.getDockedItems(D,false);A.push.apply(A,C);return A},initDockingItems:function(){var A=this,B=A.dockedItems;if(!B||!B.isMixedCollection){A.dockedItems=new Ext.util.AbstractMixedCollection(false,A.getComponentId);if(B){A.addDocked(B)}}},insertDocked:function(A,B){this.addDocked(B,A)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(C,E){var B=this,D,A;E=E===true||(E!==false&&B.autoDestroy);if(!B.dockedItems.contains(C)){return C}if(C.dock==="left"||C.dock==="right"){B.horizontalDocks--}D=B.componentLayout;A=D&&B.rendered;if(A){D.onRemove(C)}B.dockedItems.remove(C);C.onRemoved(C.destroying||E);B.onDockedRemove(C);if(E){C.destroy()}else{if(A){D.afterRemove(C)}}if(B.hasListeners.dockedremove){B.fireEvent("dockedremove",B,C)}if(!B.destroying&&!B.suspendLayout){B.updateLayout()}return C},moveDocked:function(A,B){if(this.rendered){Ext.suspendLayouts()}this.removeDocked(A,false);A.dock=B;this.addDocked(A);if(this.rendered){if(A.frame){Ext.getDetachedBody().appendChild(A.el);A.updateFrame()}Ext.resumeLayouts(true)}},setupDockingRenderTpl:function(A){A.renderDockedItems=this.doRenderDockedItems}});
Ext.define("Ext.resizer.BorderSplitterTracker",{extend:"Ext.resizer.SplitterTracker",requires:["Ext.util.Region"],getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var I=this,K=I.splitter,L=K.collapseTarget,J=K.defaultSplitMin,S=K.vertical?"Width":"Height",E="min"+S,U="max"+S,W="get"+S,N=K.neighbors,A=N.length,C=L.el.getBox(),T=C.x,R=C.y,H=C.right,M=C.bottom,F=K.vertical?(H-T):(M-R),G,D,V,P,O,B,Q;V=(L[E]||Math.min(F,J))-F;P=L[U];if(!P){P=1000000000}else{P-=F}Q=F;for(G=0;G<A;++G){D=N[G];F=D[W]();O=F-D[U];B=F-(D[E]||Math.min(F,J));if(!isNaN(O)){if(V<O){V=O}}if(P>B){P=B}}if(P-V<2){return null}C=new Ext.util.Region(R,H,M,T);I.constraintAdjusters[I.getCollapseDirection()](C,V,P,K);I.dragInfo={minRange:V,maxRange:P,targetSize:Q};return C},constraintAdjusters:{left:function(A,D,B,C){A[0]=A.x=A.left=A.right+D;A.right+=B+C.getWidth()},top:function(A,D,B,C){A[1]=A.y=A.top=A.bottom+D;A.bottom+=B+C.getHeight()},bottom:function(A,D,B,C){A.bottom=A.top-D;A.top-=B+C.getHeight()},right:function(A,D,B,C){A.right=A.left-D;A[0]=A.x=A.left=A.x-B+C.getWidth()}},onBeforeStart:function(B){var A=this,E=A.splitter,G=E.collapseTarget,F=E.neighbors,C=F.length,D,H;if(G.collapsed){return false}for(D=0;D<C;++D){H=F[D];if(H.collapsed&&H.isHorz===G.isHorz){return false}}if(!(A.constrainTo=A.calculateConstrainRegion())){return false}return true},performResize:function(A,C){var H=this,F=H.splitter,B=F.getCollapseDirection(),J=F.collapseTarget,D=H.splitAdjusters[F.vertical?"horz":"vert"],I=C[D.index],E=H.dragInfo,G;if(B=="right"||B=="bottom"){I=-I}I=Math.min(Math.max(E.minRange,I),E.maxRange);if(I){(G=F.ownerCt).suspendLayouts();D.adjustTarget(J,E.targetSize,I);G.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(C,A,B){C.flex=null;C.setSize(A+B)}},vert:{index:1,adjustTarget:function(C,B,A){C.flex=null;C.setSize(undefined,B+A)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}});
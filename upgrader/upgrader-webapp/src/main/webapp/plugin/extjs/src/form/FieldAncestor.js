Ext.define("Ext.form.FieldAncestor",{extend:"Ext.Mixin",requires:["Ext.container.Monitor"],mixinConfig:{id:"fieldAncestor",after:{initInheritedState:"initFieldInheritedState"}},initFieldAncestor:function(){var A=this;A.monitor=new Ext.container.Monitor({scope:A,selector:"[isFormField]:not([excludeForm])",addHandler:A.onChildFieldAdd,removeHandler:A.onChildFieldRemove});A.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(C){var B=C.fieldDefaults,A=this.fieldDefaults;if(A){if(B){C.fieldDefaults=Ext.apply(Ext.Object.chain(B),A)}else{C.fieldDefaults=A}}},onChildFieldAdd:function(B){var A=this;A.mon(B,"errorchange",A.handleFieldErrorChange,A);A.mon(B,"validitychange",A.handleFieldValidityChange,A)},onChildFieldRemove:function(B){var A=this;A.mun(B,"errorchange",A.handleFieldErrorChange,A);A.mun(B,"validitychange",A.handleFieldValidityChange,A)},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},handleFieldValidityChange:function(C,B){var A=this;if(C!==A){A.fireEvent("fieldvaliditychange",A,C,B);A.onFieldValidityChange(C,B)}},handleFieldErrorChange:function(C,A){var B=this;if(C!==B){B.fireEvent("fielderrorchange",B,C,A);B.onFieldErrorChange(C,A)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,beforeDestroy:function(){this.monitor.unbind();this.callParent()}});
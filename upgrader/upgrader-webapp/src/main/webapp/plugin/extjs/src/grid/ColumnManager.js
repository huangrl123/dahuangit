Ext.define("Ext.grid.ColumnManager",{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(A,B,C){if(!B.isRootHeader&&!B.isGroupHeader){Ext.Error.raise("ColumnManager must be passed an instantiated HeaderContainer or group header")}this.headerCt=B;if(C){if(!B.isRootHeader&&!B.isGroupHeader){Ext.Error.raise("ColumnManager must be passed an instantiated HeaderContainer or group header")}this.secondHeaderCt=C}this.visibleOnly=!!A},getColumns:function(){if(!this.columns){this.cacheColumns()}return this.columns},hasVariableRowHeight:function(){var B=this,D=B.getColumns(),C=D.length,A;if(B.variableRowHeight==null){B.variableRowHeight=false;for(A=0;!B.variableRowHeight&&A<C;A++){B.variableRowHeight=!!D[A].variableRowHeight}}return B.variableRowHeight},getHeaderIndex:function(A){if(A.isGroupHeader){A=this.getHeaderColumns(A)[0]}return Ext.Array.indexOf(this.getColumns(),A)},getHeaderAtIndex:function(B){var C=this.getColumns(),A=C[B];return A||null},getPreviousSibling:function(B){var C=this.getHeaderIndex(B),A=null;if(C>0){A=this.getColumns()[C-1]}return A},getNextSibling:function(B){var C=this.getHeaderIndex(B),A;if(C!==-1){A=this.getColumns()[C+1]}return A||null},getFirst:function(){var A=this.getColumns();return A.length>0?A[0]:null},getLast:function(){var B=this.getColumns(),A=B.length;return A>0?B[A-1]:null},getHeaderByDataIndex:function(A){var E=this.getColumns(),D=E.length,B,C;for(B=0;B<D;++B){C=E[B];if(C.dataIndex===A){return C}}return null},getHeaderById:function(E){var B=this.getColumns(),D=B.length,A,C;for(A=0;A<D;++A){C=B[A];if(C.getItemId()===E){return C}}return null},getVisibleHeaderClosestToIndex:function(B){var A=this.getHeaderAtIndex(B);if(A&&A.hidden){A=A.next(":not([hidden])")||A.prev(":not([hidden])")}return A},cacheColumns:function(){var B=this.getHeaderColumns(this.headerCt),A=this.secondHeaderCt;if(A){B=B.concat(this.getHeaderColumns(A))}this.columns=B},getHeaderColumns:function(B){var A=this.visibleOnly?B.getVisibleGridColumns():B.getGridColumns();return Ext.Array.clone(A)},invalidate:function(){var A=this.rootColumns;this.columns=this.variableRowHeight=null;if(A){A.invalidate()}},destroy:function(){this.columns=this.rootColumns=null}},function(){this.createAlias("indexOf","getHeaderIndex")});
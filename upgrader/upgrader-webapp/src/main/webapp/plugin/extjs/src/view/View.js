Ext.define("Ext.view.View",{extend:"Ext.view.AbstractView",alternateClassName:"Ext.DataView",alias:"widget.dataview",inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){var A=this;A.callParent();A.mon(A.el,{scope:A,click:A.handleEvent,longpress:A.handleEvent,mousedown:A.handleEvent,mouseup:A.handleEvent,dblclick:A.handleEvent,contextmenu:A.handleEvent,keydown:A.handleEvent,mouseover:A.handleMouseOver,mouseout:A.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(A){var C=this,D=C.getTargetSelector(),B=A.getTarget(D);if(!C.isDestroyed){if(B){if(C.mouseOverItem!==B&&C.el.contains(B)){C.mouseOverItem=A.item=B;A.newType="mouseenter";C.handleEvent(A)}}else{C.handleEvent(A)}}},handleMouseOut:function(B){var D=this.getTargetSelector(),C=B.getTarget(D),A=B.getRelatedTarget(D),E;if((C===A)&&!(C===null&&A===null)){return}if(!this.isDestroyed){if(C&&(E=this.self.getBoundView(C))){B.item=C;B.newType="mouseleave";E.handleEvent(B);E.mouseOverItem=null}else{this.handleEvent(B)}}},handleEvent:function(B){var D=this,E=B.type==="keydown",A=E&&B.getKey(),C;if(!B.item){B.item=B.getTarget(D.itemSelector)}if(B.item){B.record=D.getRecord(B.item)}else{if(E){C=D.getSelectionModel();B.record=C.lastFocused||C.getLastSelected();if(B.record){B.item=D.getNode(B.record)}}}if(D.processUIEvent(B)!==false){D.processSpecialEvent(B)}if(A===B.SPACE){if(!D.inputTagRe.test(B.getTarget().tagName)){B.stopEvent()}}B.item=B.record=B.newType=null},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(E){if(!Ext.getBody().isAncestor(E.target)){return}var F=this,J=E.item,G=F.self,I=G.EventMap,A=G.TouchEventMap,C,H=E.record,D=E.type,B=D;if(E.newType){B=E.newType}if(J){B=A[B]||B;C=F.indexInStore?F.indexInStore(H):F.indexOf(J);if(!H||F.processItemEvent(H,J,C,E)===false){return false}if((F["onBeforeItem"+I[B]](H,J,C,E)===false)||(F.fireEvent("beforeitem"+B,F,H,J,C,E)===false)||(F["onItem"+I[B]](H,J,C,E)===false)){return false}F.fireEvent("item"+B,F,H,J,C,E)}else{D=A[D]||D;if((F.processContainerEvent(E)===false)||(F["onBeforeContainer"+I[D]](E)===false)||(F.fireEvent("beforecontainer"+D,F,E)===false)||(F["onContainer"+I[D]](E)===false)){return false}F.fireEvent("container"+D,F,E)}return true},onItemMouseEnter:function(C,B,D,A){if(this.trackOver){this.highlightItem(B)}},onItemMouseLeave:function(C,B,D,A){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(C){var A=this,B=A.highlightedItem,D=A.overItemCls;if(B!==C){if(B){Ext.fly(B).removeCls(D);if(Ext.isIE8){A.repaintBorder(B);A.repaintBorder(B.nextSibling)}if(A.hasListeners.unhighlightitem){A.fireEvent("unhighlightitem",A,B)}}A.highlightedItem=C;if(C){Ext.fly(C).addCls(A.overItemCls);if(Ext.isIE8){A.repaintBorder(C.nextSibling)}if(A.hasListeners.highlightitem){A.fireEvent("highlightitem",A,C)}}}},highlightItem:function(A){this.setHighlightedItem(A)},clearHighlight:function(){this.setHighlightedItem(undefined)},handleUpdate:function(B,D){var E=this,C,F,A;if(E.viewReady){C=E.getNode(D);F=E.callParent(arguments);A=E.highlightedItem;if(A&&A===C){delete E.highlightedItem;if(F){E.highlightItem(F)}}}},refresh:function(){this.clearHighlight();this.callParent(arguments)},focusNode:function(A){var F=this,E=F.getNode(A),D=F.el,G=0,H=0,B=D.getRegion(),C;B.bottom=B.top+D.dom.clientHeight;B.right=B.left+D.dom.clientWidth;if(E){C=Ext.fly(E).getRegion();if(C.top<B.top){G=C.top-B.top}else{if(C.bottom>B.bottom){G=C.bottom-B.bottom}}if(C.left<B.left){H=C.left-B.left}else{if(C.right>B.right){H=C.right-B.right}}if(H||G){F.scrollBy(H,G,false)}Ext.fly(E).set({tabIndex:-1});E.focus()}},bindStore:function(A,B,D){var C=this[D];if(C&&C.isFeatureStore){if(A.isFeatureStore){this.bindStoreListeners(A);C.bindStore(C.store)}else{C.bindStore(A)}}else{this.callParent(arguments)}},privates:{repaintBorder:function(B){var A=this.getNode(B);if(A){A.className=A.className}},getFocusEl:function(){return this.getTargetEl()}}});
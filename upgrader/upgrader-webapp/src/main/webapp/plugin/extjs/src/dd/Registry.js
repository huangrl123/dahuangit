Ext.define("Ext.dd.Registry",{singleton:true,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(A,B){if(typeof A=="string"){return A}var C=A.id;if(!C&&B!==false){C="extdd-"+(++this.autoIdSeed);A.id=C}return C},register:function(A,E){E=E||{};if(typeof A=="string"){A=document.getElementById(A)}E.ddel=A;this.elements[this.getId(A)]=E;if(E.isHandle!==false){this.handles[E.ddel.id]=E}if(E.handles){var B=E.handles,C,D;for(C=0,D=B.length;C<D;C++){this.handles[this.getId(B[C])]=E}}},unregister:function(A){var F=this.getId(A,false),D=this.elements[F],B,C,E;if(D){delete this.elements[F];if(D.handles){B=D.handles;for(C=0,E=B.length;C<E;C++){delete this.handles[this.getId(B[C],false)]}}}},getHandle:function(A){if(typeof A!="string"){A=A.id}return this.handles[A]},getHandleFromEvent:function(A){var B=A.getTarget();return B?this.handles[B.id]:null},getTarget:function(A){if(typeof A!="string"){A=A.id}return this.elements[A]},getTargetFromEvent:function(A){var B=A.getTarget();return B?this.elements[B.id]||this.handles[B.id]:null}});
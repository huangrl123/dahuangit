Ext.define("Ext.fx.PropertyHandler",{requires:["Ext.fx.DrawPath"],statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(G,D,A,H,E){A=(typeof A=="number")?A:1;var F=this.unitRE,C=F.exec(G),B,I;if(C){G=C[1];I=C[2];if(!this.scrollRE.test(E)&&!I&&this.pixelDefaultsRE.test(E)){I="px"}}G=+G||0;C=F.exec(D);if(C){D=C[1];I=C[2]||I}D=+D||0;B=(H!=null)?H:G;return{from:G,delta:(D-B)*A,units:I}},get:function(G,C,B,K,E){var D=G.length,A=[],F,J,I,L,H;for(F=0;F<D;F++){if(K){J=K[F][1].from}if(Ext.isArray(G[F][1])&&Ext.isArray(C)){I=[];L=0;H=G[F][1].length;for(;L<H;L++){I.push(this.computeDelta(G[F][1][L],C[L],B,J,E))}A.push([G[F][0],I])}else{A.push([G[F][0],this.computeDelta(G[F][1],C,B,J,E)])}}return A},set:function(F,E){var B=F.length,A=[],G,D,H,C,I;for(G=0;G<B;G++){D=F[G][1];if(Ext.isArray(D)){H=[];I=0;C=D.length;for(;I<C;I++){H.push(D[I].from+D[I].delta*E+(D[I].units||0))}A.push([F[G][0],H])}else{A.push([F[G][0],D.from+D.delta*E+(D.units||0)])}}return A}},stringHandler:{computeDelta:function(A,C,E,B,D){return{from:A,delta:C}},get:function(G,C,B,K,E){var D=G.length,A=[],F,J,I,L,H;for(F=0;F<D;F++){A.push([G[F][0],this.computeDelta(G[F][1],C,B,J,E)])}return A},set:function(F,E){var B=F.length,A=[],G,D,H,C,I;for(G=0;G<B;G++){D=F[G][1];A.push([F[G][0],D.delta])}return A}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(E,B){B=(typeof B=="number")?B:1;var C=false,A=[this.hexRE,this.rgbRE,this.hex3RE],G=A.length,D,I,F,H;for(H=0;H<G;H++){F=A[H];I=(H%2===0)?16:10;D=F.exec(E);if(D&&D.length===4){if(H===2){D[1]+=D[1];D[2]+=D[2];D[3]+=D[3]}C={red:parseInt(D[1],I),green:parseInt(D[2],I),blue:parseInt(D[3],I)};break}}return C||E},computeDelta:function(A,E,G,B){A=this.parseColor(A);E=this.parseColor(E,G);var F=B?B:A,C=typeof F,D=typeof E;if(C=="string"||C=="undefined"||D=="string"||D=="undefined"){return E||F}return{from:A,delta:{red:Math.round((E.red-F.red)*G),green:Math.round((E.green-F.green)*G),blue:Math.round((E.blue-F.blue)*G)}}},get:function(C,D,B,H){var E=C.length,A=[],F,G;for(F=0;F<E;F++){if(H){G=H[F][1].from}A.push([C[F][0],this.computeDelta(C[F][1],D,B,G)])}return A},set:function(F,E){var C=F.length,A=[],G,D,B,H,I;for(G=0;G<C;G++){D=F[G][1];if(D){H=D.from;I=D.delta;D=(typeof D=="object"&&"red" in D)?"rgb("+D.red+", "+D.green+", "+D.blue+")":D;D=(typeof D=="object"&&D.length)?D[0]:D;if(typeof D=="undefined"){return[]}B=typeof D=="string"?D:"rgb("+[(H.red+Math.round(I.red*E))%256,(H.green+Math.round(I.green*E))%256,(H.blue+Math.round(I.blue*E))%256].join(",")+")";A.push([F[G][0],B])}}return A}},object:{interpolate:function(B,D){D=(typeof D=="number")?D:1;var C={},A;for(A in B){C[A]=parseFloat(B[A])*D}return C},computeDelta:function(A,E,G,D){A=this.interpolate(A);E=this.interpolate(E,G);var F=D?D:A,B={},C;for(C in E){B[C]=E[C]-F[C]}return{from:A,delta:B}},get:function(C,D,B,H){var E=C.length,A=[],F,G;for(F=0;F<E;F++){if(H){G=H[F][1].from}A.push([C[F][0],this.computeDelta(C[F][1],D,B,G)])}return A},set:function(H,F){var D=H.length,B=[],G={},E,J,I,A,C;for(E=0;E<D;E++){A=H[E][1];J=A.from;I=A.delta;for(C in J){G[C]=J[C]+I[C]*F}B.push([H[E][0],G])}return B}},path:{computeDelta:function(A,C,E,B){E=(typeof E=="number")?E:1;var D;A=+A||0;C=+C||0;D=(B!=null)?B:A;return{from:A,delta:(C-D)*E}},forcePath:function(A){if(!Ext.isArray(A)&&!Ext.isArray(A[0])){A=Ext.fx.DrawPath.parsePathString(A)}return A},get:function(D,F,C,O){var P=this.forcePath(F),B=[],A=D.length,M,G,J,L,N,H,I,K,E;for(J=0;J<A;J++){E=this.forcePath(D[J][1]);L=Ext.fx.DrawPath.interpolatePaths(E,P);E=L[0];P=L[1];M=E.length;K=[];for(H=0;H<M;H++){L=[E[H][0]];G=E[H].length;for(I=1;I<G;I++){N=O&&O[0][1][H][I].from;L.push(this.computeDelta(E[H][I],P[H][I],C,N))}K.push(L)}B.push([D[J][0],K])}return B},set:function(J,I){var E=J.length,A=[],H,F,G,B,D,K,L,C;for(H=0;H<E;H++){K=J[H][1];B=[];L=K.length;for(F=0;F<L;F++){D=[K[F][0]];C=K[F].length;for(G=1;G<C;G++){D.push(K[F][G].from+K[F][G].delta*I)}B.push(D.join(","))}A.push([J[H][0],B.join(",")])}return A}}}},function(){var D=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],A=D.length,B=0,C;for(;B<A;B++){C=D[B];this[C]=this.color}D=["cursor"];A=D.length;B=0;for(;B<A;B++){C=D[B];this[C]=this.stringHandler}});
Ext.define("Ext.form.field.FileButton",{extend:"Ext.button.Button",alias:"widget.filebutton",childEls:["fileInputEl"],inputCls:Ext.baseCSSPrefix+"form-file-input",cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:false,autoEl:{tag:"div",unselectable:"on"},afterTpl:'<input id="{id}-fileInputEl" data-ref="fileInputEl" class="{childElCls} {inputCls}" type="file" size="1" name="{inputName}" role="{role}" tabIndex="{tabIndex}">',getAfterMarkup:function(A){return this.getTpl("afterTpl").apply(A)},getTemplateArgs:function(){var A=this.callParent();A.inputCls=this.inputCls;A.inputName=this.inputName;A.tabIndex=this.ownerCt.tabIndex;return A},afterRender:function(){var A=this;A.callParent(arguments);A.fileInputEl.on("change",A.fireChange,A)},fireChange:function(A){this.fireEvent("change",this,A,this.fileInputEl.dom.value)},createFileInput:function(A){var B=this;B.fileInputEl=B.el.createChild({name:B.inputName,id:!A?B.id+"-fileInputEl":undefined,cls:B.inputCls,tag:"input",type:"file",size:1,role:"button"});B.fileInputEl.on("change",B.fireChange,B)},reset:function(A){if(A){this.fileInputEl.destroy()}this.createFileInput(!A)},restoreInput:function(A){this.fileInputEl.destroy();A=Ext.get(A);this.el.appendChild(A);this.fileInputEl=A},onDisable:function(){this.callParent();this.fileInputEl.dom.disabled=true},onEnable:function(){this.callParent();this.fileInputEl.dom.disabled=false}});
Ext.define("Ext.layout.container.CheckboxGroup",{extend:"Ext.layout.container.Container",alias:["layout.checkboxgroup"],autoFlex:true,type:"checkboxgroup",createsInnerCt:true,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" data-ref="innerCt" class="'+Ext.plainTableCls+'" cellpadding="0"','role="presentation" style="{tableStyle}"><tr role="presentation">','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}" role="presentation">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></table>"],lastOwnerItemsGeneration:null,beginLayout:function(A){var F=this,B,K,D,E,G,I=0,H=0,J=F.autoFlex,C=F.innerCt.dom.style;F.callParent(arguments);B=F.columnNodes;A.innerCtContext=A.getEl("innerCt",F);if(!A.widthModel.shrinkWrap){K=B.length;if(F.columnsArray){for(D=0;D<K;D++){E=F.owner.columns[D];if(E<1){I+=E;H++}}for(D=0;D<K;D++){E=F.owner.columns[D];if(E<1){G=((E/I)*100)+"%"}else{G=E+"px"}B[D].style.width=G}}else{for(D=0;D<K;D++){G=J?(1/K*100)+"%":"";B[D].style.width=G;H++}}if(!H){C.tableLayout="fixed";C.width=""}else{if(H<K){C.tableLayout="fixed";C.width="100%"}else{C.tableLayout="auto";if(J){C.width="100%"}else{C.width=""}}}}else{C.tableLayout="auto";C.width=""}},cacheElements:function(){var A=this;A.callParent();A.rowEl=A.innerCt.down("tr");A.columnNodes=A.rowEl.dom.childNodes},calculate:function(B){var G=this,E,F,A,C,H,D;if(!B.getDomProp("containerChildrenSizeDone")){G.done=false}else{E=B.innerCtContext;F=B.widthModel.shrinkWrap;A=B.heightModel.shrinkWrap;C=A||F;H=E.el.dom;D=C&&E.getPaddingInfo();if(F){B.setContentWidth(H.offsetWidth+D.width,true)}if(A){B.setContentHeight(H.offsetHeight+D.height,true)}}},doRenderColumn:function(C,G,A){var J=G.$layout,B=J.owner,E=G.columnCount,L=B.items.items,D=L.length,M,F,K,I,H;if(B.vertical){K=Math.ceil(D/E);F=A*K;D=Math.min(D,F+K);I=1}else{F=A;I=E}for(;F<D;F+=I){M=L[F];J.configureItem(M);H=M.getRenderTree();Ext.DomHelper.generateMarkup(H,C)}},getColumnCount:function(){var B=this,C=B.owner,A=C.columns;if(B.columnsArray){return A.length}if(Ext.isNumber(A)){return A}return C.items.length},getItemSizePolicy:function(A){return this.autoSizePolicy},getRenderData:function(){var H=this,D=H.callParent(),B=H.owner,F,E=H.getColumnCount(),G,C,I,K=H.autoFlex,J=0,A=0;if(H.columnsArray){for(F=0;F<E;F++){G=H.owner.columns[F];if(G<1){J+=G;A++}}}D.colCls=B.groupCls;D.columnCount=E;D.columns=[];for(F=0;F<E;F++){C=(D.columns[F]={});if(H.columnsArray){G=H.owner.columns[F];if(G<1){I=((G/J)*100)+"%"}else{I=G+"px"}C.style="width:"+I}else{C.style="width:"+(1/E*100)+"%";A++}}D.tableStyle=!A?"table-layout:fixed;":(A<E)?"table-layout:fixed;width:100%":(K)?"table-layout:auto;width:100%":"table-layout:auto;";return D},initLayout:function(){var A=this,B=A.owner;A.columnsArray=Ext.isArray(B.columns);A.autoColumns=!B.columns||B.columns==="auto";A.vertical=B.vertical;A.callParent()},isValidParent:Ext.returnTrue,setupRenderTpl:function(A){this.callParent(arguments);A.renderColumn=this.doRenderColumn},renderChildren:function(){var A=this,B=A.owner.items.generation;if(A.lastOwnerItemsGeneration!==B){A.lastOwnerItemsGeneration=B;A.renderItems(A.getLayoutItems())}},renderItems:function(H){var G=this,C=H.length,E,F,I,D,B,A;if(C){Ext.suspendLayouts();if(G.autoColumns){G.addMissingColumns(C)}D=G.columnNodes.length;I=Math.ceil(C/D);for(E=0;E<C;E++){F=H[E];B=G.getRenderRowIndex(E,I,D);A=G.getRenderColumnIndex(E,I,D);if(!F.rendered){G.renderItem(F,B,A)}else{if(!G.isItemAtPosition(F,B,A)){G.moveItem(F,B,A)}}}if(G.autoColumns){G.removeExceedingColumns(C)}Ext.resumeLayouts(true)}},isItemAtPosition:function(B,A,C){return B.el.dom===this.getNodeAt(A,C)},getRenderColumnIndex:function(C,B,A){if(this.vertical){return Math.floor(C/B)}else{return C%A}},getRenderRowIndex:function(D,B,A){var C=this;if(C.vertical){return D%B}else{return Math.floor(D/A)}},getNodeAt:function(A,B){return this.columnNodes[B].childNodes[A]},addMissingColumns:function(F){var C=this,D=C.columnNodes.length,G,B,E,A;if(D<F){G=F-D;B=C.rowEl;E=C.owner.groupCls;for(A=0;A<G;A++){B.createChild({cls:E,tag:"td",vAlign:"top",role:"presentation"})}}},removeExceedingColumns:function(E){var C=this,D=C.columnNodes.length,F,B,A;if(D>E){F=D-E;B=C.rowEl;for(A=0;A<F;A++){B.last().destroy()}}},renderItem:function(C,B,D){var A=this;A.configureItem(C);C.render(Ext.get(A.columnNodes[D]),B)},moveItem:function(D,C,F){var A=this,E=A.columnNodes[F],B=E.childNodes[C];E.insertBefore(D.el.dom,B||null)}});
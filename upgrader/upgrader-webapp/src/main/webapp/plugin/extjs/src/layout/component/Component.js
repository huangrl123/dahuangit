Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,widthCache:{},heightCache:{},beginLayoutCycle:function(A,O){var K=this,B=K.owner,G=A.ownerCtContext,H=A.heightModel,N=A.widthModel,I=B.el.dom===document.body,L=B.lastBox||K.nullBox,M=B.el.lastBox||K.nullBox,E=!I,C,D,F,J;K.callParent(arguments);if(O){if(K.usesContentWidth){++A.consumersContentWidth}if(K.usesContentHeight){++A.consumersContentHeight}if(K.usesWidth){++A.consumersWidth}if(K.usesHeight){++A.consumersHeight}if(G&&!G.hasRawContent){C=B.ownerLayout;if(C){if(C.usesWidth){++A.consumersWidth}if(C.usesHeight){++A.consumersHeight}}}}if(N.configured){F=N.names.width;if(!I){E=K.setWidthInDom||(O?B[F]!==M.width:N.constrained)}A.setWidth(B[F],E)}else{if(A.isTopLevel){if(N.calculated){D=L.width;A.setWidth(D,D!=M.width)}D=L.x;A.setProp("x",D,D!=M.x)}}if(H.configured){J=H.names.height;if(!I){E=O?B[J]!==M.height:H.constrained}A.setHeight(B[J],E)}else{if(A.isTopLevel){if(H.calculated){D=L.height;A.setHeight(D,D!=M.height)}D=L.y;A.setProp("y",D,D!=M.y)}}},finishedLayout:function(A){var F=this,D=A.children,B=F.owner,G,E,H,C,I;if(D){G=D.length;for(E=0;E<G;E++){H=D[E];H.el.lastBox=H.props}}A.previousSize=F.lastComponentSize;F.lastComponentSize=B.el.lastBox=I=A.props;C=B.lastBox||(B.lastBox={});C.x=I.x;C.y=I.y;C.width=I.width;C.height=I.height;C.invalid=false;F.callParent(arguments)},notifyOwner:function(C){var B=this,D=B.lastComponentSize,E=C.previousSize,A=[D.width,D.height];if(E){A.push(E.width,E.height)}B.owner.afterComponentLayout.apply(B.owner,A)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(C){var A=this,B=A.targetInfo,D;if(!B){D=C.getEl("getTarget",A);A.targetInfo=B={padding:D.getPaddingInfo(),border:D.getBorderInfo()}}return B},measureAutoDimensions:function(R,Q){var A=this,M=A.owner,S=M.layout,N=R.heightModel,H=R.widthModel,E=R.boxParent,G=R.isBoxParent,V=R.target,D=R.props,J,W={gotWidth:false,gotHeight:false,isContainer:(J=!R.hasRawContent)},B=Q||3,O,U,C=0,L=0,P,I,K,T,F;if(H.shrinkWrap&&R.consumersContentWidth){++C;O=!(B&1);if(J){if(O){W.contentWidth=0;W.gotWidth=true;++L}else{if((W.contentWidth=R.getProp("contentWidth"))!==undefined){W.gotWidth=true;++L}}}else{I=D.contentWidth;if(typeof I=="number"){W.contentWidth=I;W.gotWidth=true;++L}else{if(O){P=true}else{if(!R.hasDomProp("containerChildrenSizeDone")){P=false}else{if(G||!E||E.widthModel.shrinkWrap){P=true}else{P=E.hasDomProp("width")}}}if(P){if(O){K=0}else{if(S&&S.measureContentWidth){K=S.measureContentWidth(R)}else{if(V.cacheWidth){T=V.xtype+"-"+V.ui;F=A.widthCache;K=F[T]||(F[T]=A.measureContentWidth(R))}else{K=A.measureContentWidth(R)}}}if(!isNaN(W.contentWidth=K)){R.setContentWidth(K,true);W.gotWidth=true;++L}}}}}else{if(H.natural&&R.consumersWidth){++C;I=D.width;if(typeof I=="number"){W.width=I;W.gotWidth=true;++L}else{if(G||!E){P=true}else{P=E.hasDomProp("width")}if(P){if(!isNaN(W.width=A.measureOwnerWidth(R))){R.setWidth(W.width,false);W.gotWidth=true;++L}}}}}if(N.shrinkWrap&&R.consumersContentHeight){++C;U=!(B&2);if(J){if(U){W.contentHeight=0;W.gotHeight=true;++L}else{if((W.contentHeight=R.getProp("contentHeight"))!==undefined){W.gotHeight=true;++L}}}else{I=D.contentHeight;if(typeof I=="number"){W.contentHeight=I;W.gotHeight=true;++L}else{if(U){P=true}else{if(!R.hasDomProp("containerChildrenSizeDone")){P=false}else{if(M.noWrap){P=true}else{if(!H.shrinkWrap){P=(R.bodyContext||R).hasDomProp("width")}else{if(G||!E||E.widthModel.shrinkWrap){P=true}else{P=E.hasDomProp("width")}}}}}if(P){if(U){K=0}else{if(S&&S.measureContentHeight){K=S.measureContentHeight(R)}else{if(V.cacheHeight){T=V.xtype+"-"+V.ui;F=A.heightCache;K=F[T]||(F[T]=A.measureContentHeight(R))}else{K=A.measureContentHeight(R)}}}if(!isNaN(W.contentHeight=K)){R.setContentHeight(K,true);W.gotHeight=true;++L}}}}}else{if(N.natural&&R.consumersHeight){++C;I=D.height;if(typeof I=="number"){W.height=I;W.gotHeight=true;++L}else{if(G||!E){P=true}else{P=E.hasDomProp("width")}if(P){if(!isNaN(W.height=A.measureOwnerHeight(R))){R.setHeight(W.height,false);W.gotHeight=true;++L}}}}}if(E){R.onBoxMeasured()}W.gotAll=L==C;return W},measureContentWidth:function(A){return A.el.getWidth()-A.getFrameInfo().width},measureContentHeight:function(A){return A.el.getHeight()-A.getFrameInfo().height},measureOwnerHeight:function(A){return A.el.getHeight()},measureOwnerWidth:function(A){return A.el.getWidth()}});
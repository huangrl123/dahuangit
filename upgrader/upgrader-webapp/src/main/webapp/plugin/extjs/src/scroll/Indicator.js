Ext.define("Ext.scroll.Indicator",{config:{axis:null,containerEl:null,scroller:null,minLength:null,scrollSize:null,maxScrollPosition:null,hasOpposite:null},hideAnimConfig:{to:{opacity:0},duration:300},names:{x:{side:"l",getSize:"getHeight",clientSize:"clientWidth",setLength:"setWidth",setPosition:"setLocalX"},y:{side:"t",getSize:"getWidth",clientSize:"clientHeight",setLength:"setHeight",setPosition:"setLocalY"}},cls:Ext.baseCSSPrefix+"scroll-indicator",constructor:function(C){var D=this,B,A,E;D.initConfig(C);E=D.getAxis();D.names=D.names[E];D.el=D.getContainerEl().createChild({cls:D.cls+" "+D.cls+"-"+E});if(!D.size){D.cacheStyles()}B=D.getMinLength();A=D.size;if(!B||B<A){D.setMinLength(A)}},cacheStyles:function(){var C=this,B=C.self.prototype,A=C.el,E=C.getAxis(),D=C.names;B.size=A[D.getSize]();B.margin=A.getMargin(D.side)},hide:function(){this.el.animate(this.hideAnimConfig)},refreshLength:function(){var A=this,D=A.names,E=A.getScrollSize(),B=A.getContainerEl().dom[D.clientSize],C=B/E,G=A.getHasOpposite(),H=A.margin*2,I=G?(H+A.size):H,F=Math.max(Math.round((B-I)*C),A.getMinLength());A.sizeAdjust=I;A.length=F;A.el[D.setLength](F)},setValue:function(F){var L=this,M=L.el,C=L.names,A=L.getMaxScrollPosition(),B=L.getContainerEl().dom[C.clientSize],H=L.length,J=L.getMinLength(),G=H,K=B-H-L.sizeAdjust,E=Math.round,D=Math.max,I;if(F<0){G=E(D(H+(H*F/B),J));I=0}else{if(F>A){G=E(D(H-(H*(F-A)/B),J));I=K+H-G}else{I=E(F/A*K)}}M[C.setPosition](I);M[C.setLength](G)},show:function(){var C=this,A=C.el,B=A.getActiveAnimation();if(B){B.end()}C.refreshLength();A.setStyle("opacity","")},destroy:function(){this.el.destroy()}});
Ext.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(A,C){var B=this;B.panel=A;B.dragData={panel:A};B.panelProxy=new Ext.panel.Proxy(A,C);B.proxy=B.panelProxy.proxy;B.callParent([A.el,C]);B.setupEl(A)},setupEl:function(A){var D=this,B=A.header,C=A.body;if(B){D.setHandleElId(B.id);C=B.el}if(C){C.setStyle("cursor","move");D.scroll=false}else{A.on("boxready",D.setupEl,D,{single:true})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(A,B){this.panelProxy.show()},b4MouseDown:function(B){var A=B.getXY(),C=A[0],D=A[1];this.autoOffset(C,D)},onInitDrag:function(A,B){this.onStartDrag(A,B);return true},createFrame:Ext.emptyFn,getDragEl:function(A){var B=this.panelProxy.ghost;if(B){return B.el.dom}},endDrag:function(A){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(A,B){A-=this.startPageX;B-=this.startPageY;this.setDelta(A,B)},onInvalidDrop:function(C,A,D){var B=this;if(B.beforeInvalidDrop(C,A,D)!==false){if(B.cachedTarget){if(B.cachedTarget.isNotifyTarget){B.cachedTarget.notifyOut(B,A,B.dragData)}B.cacheTarget=null}if(B.afterInvalidDrop){B.afterInvalidDrop(A,D)}}}});
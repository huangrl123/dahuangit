Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,disabled:0,constructor:function(A){Ext.apply(this,A)},bind:function(B){var A=this;A.target=B;B.on("beforedestroy",A.disable,A);A.onContainerAdd(B)},unbind:function(){var A=this,B=A.target;if(B){B.un("beforedestroy",A.disable,A)}A.items=null},disable:function(){++this.disabled},enable:function(){if(this.disabled>0){--this.disabled}},handleAdd:function(A,B){if(!this.disabled){if(B.is(this.selector)){this.onItemAdd(B.ownerCt,B)}if(B.isQueryable){this.onContainerAdd(B)}}},onItemAdd:function(D,E){var C=this,A=C.items,B=C.addHandler;if(!C.disabled){if(B){B.call(C.scope||E,E)}if(A){A.add(E)}}},onItemRemove:function(D,E){var C=this,A=C.items,B=C.removeHandler;if(!C.disabled){if(B){B.call(C.scope||E,E)}if(A){A.remove(E)}}},onContainerAdd:function(F,I){var A=this,B,G,H=A.handleAdd,E=A.handleRemove,C,D;if(F.isContainer){F.on("add",H,A);F.on("dockedadd",H,A);F.on("remove",E,A);F.on("dockedremove",E,A)}if(I!==true){B=F.query(A.selector);for(C=0,G=B.length;C<G;++C){D=B[C];A.onItemAdd(D.ownerCt,D)}}B=F.query(">container");for(C=0,G=B.length;C<G;++C){A.onContainerAdd(B[C],true)}},handleRemove:function(B,C){var A=this;if(!A.disabled){if(C.is(A.selector)){A.onItemRemove(B,C)}if(C.isQueryable){A.onContainerRemove(B,C)}}},onContainerRemove:function(F,G){var D=this,B,A,E,C;if(!G.isDestroyed&&!G.destroying&&G.isContainer){D.removeCtListeners(G);B=G.query(D.selector);for(A=0,E=B.length;A<E;++A){C=B[A];D.onItemRemove(C.ownerCt,C)}B=G.query("container");for(A=0,E=B.length;A<E;++A){D.removeCtListeners(B[A])}}else{D.invalidateItems(true)}},removeCtListeners:function(B){var A=this;B.un("add",A.handleAdd,A);B.un("dockedadd",A.handleAdd,A);B.un("remove",A.handleRemove,A);B.un("dockedremove",A.handleRemove,A)},getItems:function(){var A=this,B=A.items;if(!B){B=A.items=new Ext.util.MixedCollection();B.addAll(A.target.query(A.selector))}return B},invalidateItems:function(A){var B=this,C=B.invalidateHandler;if(A&&C){C.call(B.scope||B,B)}B.items=null}});
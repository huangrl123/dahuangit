Ext.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},shrinkWrapDock:true,initComponent:function(){var A=this;A.target=A.target||Ext.getDoc();A.targets=A.targets||{};A.callParent()},register:function(C){var A=Ext.isArray(C)?C:arguments,B=0,D=A.length,F,G,E;for(;B<D;B++){C=A[B];F=C.target;if(F){if(Ext.isArray(F)){for(G=0,E=F.length;G<E;G++){this.targets[Ext.id(F[G])]=C}}else{this.targets[Ext.id(F)]=C}}}},unregister:function(A){delete this.targets[Ext.id(A)]},cancelShow:function(A){var B=this,C=B.activeTarget;A=Ext.get(A).dom;if(B.isVisible()){if(C&&C.el===A){B.hide()}}else{if(C&&C.el===A){B.clearTimer("show")}}},getTipCfg:function(E,C){var A=E.title,D,F,B;if(this.interceptTitles&&A&&Ext.isString(A)){E.qtip=A;E.removeAttribute("title");if(C){C.preventDefault()}return{text:A}}else{D=this.tagConfig;F=D.attr||(D.attr=D.namespace+D.attribute);E=Ext.fly(E).findParent(function(G){return B=G.getAttribute(F)});if(E){return{target:E,text:B}}}},onTargetOver:function(A){this.doTargetOver(A.getTarget(this.delegate),null,A)},doTargetOver:function(K,F,G){var A=this,O,B,D,M,P,N,E,I,J,C,H,L;if(A.disabled){return}if(typeof K==="string"){K=Ext.getDom(K)}A.targetXY=F||(G?G.getXY():Ext.fly(K).getXY());if(!K||K.nodeType!==1||K==document.documentElement||K==document.body){return}if(A.activeTarget&&((K===A.activeTarget.el)||Ext.fly(A.activeTarget.el).contains(K))){if(A.targetTextEmpty()){A.onShowVeto();delete A.activeTarget}else{A.clearTimer("hide");A.show()}return}if(K){J=A.targets;for(L in J){if(J.hasOwnProperty(L)){H=J[L];C=Ext.fly(H.target);if(C&&(C.dom===K||C.contains(K))){M=C.dom;break}}}if(M){A.activeTarget=A.targets[M.id];A.activeTarget.el=K;A.anchor=A.activeTarget.anchor;if(A.anchor){A.anchorTarget=K}O=parseInt(A.activeTarget.showDelay,10);if(O){D=A.showDelay;A.showDelay=O}A.delayShow();if(O){A.showDelay=D}if(!(B=A.activeTarget.hideAction)){delete A.hideAction}else{A.hideAction=B}return}}M=Ext.fly(K,"_quicktip-target");P=A.tagConfig;N=P.namespace;E=A.getTipCfg(K,G);if(E){if(E.target){K=E.target;M=Ext.fly(K,"_quicktip-target")}I=M.getAttribute(N+P.hide);A.activeTarget={el:K,text:E.text,width:+M.getAttribute(N+P.width)||null,autoHide:I!="user"&&I!=="false",title:M.getAttribute(N+P.title),cls:M.getAttribute(N+P.cls),align:M.getAttribute(N+P.align),showDelay:parseInt(M.getAttribute(N+P.showDelay)||0,10),hideAction:M.getAttribute(N+P.hideAction),anchorTarget:M.getAttribute(N+P.anchorTarget)};if(!A.initialConfig.hasOwnProperty("anchor")){A.anchor=M.getAttribute(N+P.anchor)}if(A.anchor&&!A.initialConfig.hasOwnProperty("anchorTarget")){A.anchorTarget=A.activeTarget.anchorTarget||K}O=parseInt(A.activeTarget.showDelay,10);if(O){D=A.showDelay;A.showDelay=O}A.delayShow();if(O){A.showDelay=D}}},onTargetOut:function(A){var C=this,B=C.activeTarget,E,D;if(B&&A.within(C.activeTarget.el)&&!C.getTipCfg(A.getTarget(),A)){return}C.clearTimer("show");delete C.activeTarget;if(C.autoHide!==false){E=B&&parseInt(B.hideDelay,10);if(E){D=C.hideDelay;C.hideDelay=E}C.delayHide();if(E){C.hideDelay=D}}},targetTextEmpty:function(){var C=this,E=C.activeTarget,D=C.tagConfig,A,B;if(E){A=E.el;if(A){B=A.getAttribute(D.namespace+D.attribute);if(!B&&!C.targets[Ext.id(E.target)]){return true}}}return false},show:function(){var A=this,B=A.fromDelayShow;if(B&&A.targetTextEmpty()){A.onShowVeto();delete A.activeTarget;return}A.callParent(arguments)},showAt:function(A){var D=this,F=D.activeTarget,B=D.header,E,C;if(F){if(!D.rendered){D.render(Ext.getBody());D.activeTarget=F}D.suspendLayouts();if(F.title){D.setTitle(F.title);B.show()}else{if(B){B.hide()}}D.update(F.text);D.autoHide=F.autoHide;E=F.dismissDelay;D.dismissDelay=Ext.isNumber(E)?E:D.dismissDelay;if(F.mouseOffset){A[0]+=F.mouseOffset[0];A[1]+=F.mouseOffset[1]}C=D.lastCls;if(C){D.removeCls(C);delete D.lastCls}C=F.cls;if(C){D.addCls(C);D.lastCls=C}D.setWidth(F.width);if(D.anchor){D.constrainPosition=false}else{if(F.align){A=D.getAlignToXY(F.el,F.align);D.constrainPosition=false}else{D.constrainPosition=true}}D.resumeLayouts(true)}D.callParent([A])},hide:function(){delete this.activeTarget;this.callParent()}});
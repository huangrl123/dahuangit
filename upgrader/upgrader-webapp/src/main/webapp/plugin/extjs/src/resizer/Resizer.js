Ext.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker","Ext.Component"],alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",overCls:Ext.baseCSSPrefix+"resizable-handle-over",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",wrappedCls:Ext.baseCSSPrefix+"resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:10000,maxWidth:10000,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},ariaRole:"presentation",constructor:function(A){var M=this,O,L,G=M.handles,F,D,N,I=0,K,H,J,E,P=[],B,C=Ext.dom.Element.unselectableCls;if(Ext.isString(A)||Ext.isElement(A)||A.dom){O=A;A=arguments[1]||{};A.target=O}M.mixins.observable.constructor.call(M,A);O=M.target;if(O){if(O.isComponent){O.addClsWithUI("resizable");M.el=O.getEl();if(O.minWidth){M.minWidth=O.minWidth}if(O.minHeight){M.minHeight=O.minHeight}if(O.maxWidth){M.maxWidth=O.maxWidth}if(O.maxHeight){M.maxHeight=O.maxHeight}if(O.floating){if(!M.hasOwnProperty("handles")){M.handles="n ne e se s sw w nw"}}M.el=O.getEl()}else{O=M.el=M.target=Ext.get(O)}}else{O=M.target=M.el=Ext.get(M.el)}M.el.addCls(Ext.Component.prototype.borderBoxCls);if(Ext.isNumber(M.width)){M.width=Ext.Number.constrain(M.width,M.minWidth,M.maxWidth)}if(Ext.isNumber(M.height)){M.height=Ext.Number.constrain(M.height,M.minHeight,M.maxHeight)}if(M.width!==null||M.height!==null){M.target.setSize(M.width,M.height)}L=M.el.dom.tagName.toUpperCase();if(L==="TEXTAREA"||L==="IMG"||L==="TABLE"){M.originalTarget=M.target;M.el.addCls(M.wrappedCls);M.target=M.el=M.el.wrap({role:"presentation",cls:M.wrapCls,id:M.el.id+"-rzwrap",style:O.getStyle(["margin-top","margin-bottom"])});E=O.getPositioning();M.el.setPositioning(E);O.clearPositioning();J=O.getBox();if(E.position!="absolute"){J.x=0;J.y=0}M.el.setBox(J);O.setStyle("position","absolute")}M.el.position();if(M.pinned){M.el.addCls(M.pinnedCls)}M.resizeTracker=new Ext.resizer.ResizeTracker({disabled:M.disabled,target:O,el:M.el,constrainTo:M.constrainTo,handleCls:M.handleCls,overCls:M.overCls,throttle:M.throttle,proxy:M.originalTarget?M.el:null,dynamic:M.originalTarget?true:M.dynamic,originalTarget:M.originalTarget,delegate:"."+M.handleCls,preserveRatio:M.preserveRatio,heightIncrement:M.heightIncrement,widthIncrement:M.widthIncrement,minHeight:M.minHeight,maxHeight:M.maxHeight,minWidth:M.minWidth,maxWidth:M.maxWidth});M.resizeTracker.on({mousedown:M.onBeforeResize,drag:M.onResize,dragend:M.onResizeEnd,scope:M});if(M.handles=="all"){M.handles="n s e w ne nw se sw"}G=M.handles=M.handles.split(M.delimiterRe);D=M.possiblePositions;N=G.length;F=M.handleCls+" "+M.handleCls+"-{0}";if(M.target.isComponent){B=M.target.baseCls;F+=" "+B+"-handle "+B+"-handle-{0}";if(Ext.supports.CSS3BorderRadius){F+=" "+B+"-handle-{0}-br"}}for(;I<N;I++){if(G[I]&&D[G[I]]){K=D[G[I]];P.push('<div id="',M.el.id,"-",K,'-handle" class="',Ext.String.format(F,K)," ",C,'" unselectable="on" role="presentation"',"></div>")}}Ext.DomHelper.append(M.el,P.join(""));P.length=0;for(I=0;I<N;I++){if(G[I]&&D[G[I]]){K=D[G[I]];H=M[K]=M.el.getById(M.el.id+"-"+K+"-handle");P.push(H);H.region=K;if(M.transparent){H.setOpacity(0)}}}M.resizeTracker.handleEls=P},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(A,B){return this.fireResizeEvent("beforeresize",A,B)},onResize:function(A,B){return this.fireResizeEvent("resizedrag",A,B)},onResizeEnd:function(A,B){return this.fireResizeEvent("resize",A,B)},fireResizeEvent:function(D,A,C){var B=this,E;if(B.hasListeners[D]){E=B.el.getBox();return B.fireEvent(D,B,E.width,E.height,C)}},resizeTo:function(C,A){var B=this;B.target.setSize(C,A);B.fireEvent("resize",B,C,A,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var C=this,B,F=C.handles,D=F.length,E=C.possiblePositions,A;C.resizeTracker.destroy();for(B=0;B<D;B++){if((A=C[E[F[B]]])){A.destroy()}}}});
Ext.define("Ext.form.action.Load",{extend:"Ext.form.action.Action",requires:["Ext.data.Connection"],alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(C){var B=this.processResponse(C),A=this.form;if(B===true||!B.success||!B.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;A.afterAction(this,false);return}A.clearInvalid();A.setValues(B.data);A.afterAction(this,true)},handleResponse:function(C){var B=this.form.reader,A,D;if(B){A=B.read(C);D=A.records&&A.records[0]?A.records[0].data:null;return{success:A.success,data:D}}return Ext.decode(C.responseText)}});